2019-02-20 16:41:35,150 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 16:41:35,188 main.py[line: 79] ERROR: 运行出错：list index out of range
2019-02-20 16:41:48,834 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 16:41:48,834 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 16:41:48,834 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 16:41:48,834 main.py[line: 67] INFO: 调试模式
2019-02-20 16:42:04,366 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 16:42:04,367 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 16:42:04,367 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 16:42:04,383 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 16:42:04,383 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 16:42:04,395 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 16:42:04,396 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 16:42:04,407 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 16:42:04,408 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 16:42:04,408 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 16:42:04,420 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 16:42:04,431 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 16:42:04,432 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 16:42:04,432 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 16:42:04,433 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 16:42:04,451 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 16:42:04,451 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 16:42:04,451 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 16:42:04,452 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 16:42:04,452 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 16:42:04,452 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 16:42:04,463 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_smsTemplateCode$', '$global_smsTemplateParam$', '$global_accessId$', '$global_accessToken$']
2019-02-20 16:42:04,464 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }'}
2019-02-20 16:42:04,464 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-20 16:42:04,464 test_case_step.py[line: 67] ERROR: 替换动态变量出错：'global_smsTemplateCode'
2019-02-20 16:42:04,464 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 16:42:04,464 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:42:04,465 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }'}
2019-02-20 16:42:04,465 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 16:42:04,465 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 16:42:04,465 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:42:04,466 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }'}
2019-02-20 16:42:04,466 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 16:42:04,466 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 16:42:04,467 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 16:42:04,467 httpprotocol.py[line: 105] INFO: 参数为：b'"{\\n  \\"userId\\": \\"${global_mobile}\\",\\n  \\"templateCode\\": \\"$global_smsTemplateCode$\\",\\n  \\"templateParam\\": \\"$global_smsTemplateParam$\\",\\n  \\"accessId\\": \\"$global_accessId$\\",\\n  \\"accessToken\\": \\"$global_accessToken$\\"\\n}"'
2019-02-20 16:42:04,467 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json;charset=utf-8'}
2019-02-20 16:42:04,607 test_case.py[line: 86] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-20 16:42:04,608 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 16:42:04,608 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 16:42:04,608 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 16:45:31,398 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 16:45:31,399 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 16:45:31,399 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 16:45:31,399 main.py[line: 67] INFO: 调试模式
2019-02-20 16:45:34,099 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 16:45:34,099 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 16:45:34,099 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 16:45:34,113 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 16:45:34,113 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 16:45:34,127 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 16:45:34,127 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 16:45:34,140 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 16:45:34,140 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 16:45:34,141 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 16:45:34,150 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 16:45:34,162 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 16:45:34,162 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 16:45:34,162 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 16:45:34,163 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 16:45:34,180 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 16:45:34,180 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 16:45:34,180 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 16:45:34,181 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 16:45:34,181 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 16:45:34,181 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 16:45:34,182 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_smstemplatecode$', '$global_smstemplateparam$', '$global_accessid$', '$global_accesstoken$']
2019-02-20 16:45:34,182 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_accessid': 'o17O12xf', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplateparam': '{"smsVerifyCode":654321}'}
2019-02-20 16:45:34,182 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smstemplatecode$
2019-02-20 16:45:34,182 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smstemplateparam$
2019-02-20 16:45:34,182 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessid$
2019-02-20 16:45:34,183 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accesstoken$
2019-02-20 16:45:34,183 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "${global_mobile}",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": "{"smsVerifyCode":654321}",
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 16:45:34,183 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 16:45:34,183 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:45:34,183 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_accessid': 'o17O12xf', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplateparam': '{"smsVerifyCode":654321}'}
2019-02-20 16:45:34,184 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 16:45:34,184 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 16:45:34,184 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:45:34,184 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_accessid': 'o17O12xf', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplateparam': '{"smsVerifyCode":654321}'}
2019-02-20 16:45:34,184 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 16:45:34,185 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 16:45:34,185 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 16:45:34,185 httpprotocol.py[line: 105] INFO: 参数为：b'"{\\n  \\"userId\\": \\"${global_mobile}\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": \\"{\\"smsVerifyCode\\":654321}\\",\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 16:45:34,185 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json;charset=utf-8'}
2019-02-20 16:45:34,271 test_case.py[line: 86] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-20 16:45:34,271 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 16:45:34,271 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 16:45:34,272 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 16:48:00,255 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 16:48:00,256 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 16:48:00,256 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 16:48:00,256 main.py[line: 67] INFO: 调试模式
2019-02-20 16:48:02,589 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 16:48:02,590 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 16:48:02,591 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 16:48:02,616 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 16:48:02,617 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 16:48:02,642 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 16:48:02,643 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 16:48:02,665 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 16:48:02,666 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 16:48:02,666 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 16:48:02,679 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 16:48:02,693 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 16:48:02,694 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 16:48:02,694 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 16:48:02,695 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 16:48:02,718 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 16:48:02,718 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 16:48:02,719 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 16:48:02,719 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 16:48:02,719 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 16:48:02,719 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 16:48:02,720 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_smstemplatecode$', '$global_smsverifycode$', '$global_accessid$', '$global_accesstoken$']
2019-02-20 16:48:02,720 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf'}
2019-02-20 16:48:02,720 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smstemplatecode$
2019-02-20 16:48:02,720 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsverifycode$
2019-02-20 16:48:02,721 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessid$
2019-02-20 16:48:02,721 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accesstoken$
2019-02-20 16:48:02,721 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "${global_mobile}",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": "654321"
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 16:48:02,721 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 16:48:02,721 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:48:02,722 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf'}
2019-02-20 16:48:02,722 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 16:48:02,722 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 16:48:02,722 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:48:02,723 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf'}
2019-02-20 16:48:02,723 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 16:48:02,723 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 16:48:02,723 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 16:48:02,724 httpprotocol.py[line: 105] INFO: 参数为：b'"{\\n  \\"userId\\": \\"${global_mobile}\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": \\"654321\\"\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 16:48:02,724 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json;charset=utf-8'}
2019-02-20 16:48:02,770 test_case.py[line: 86] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-20 16:48:02,770 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 16:48:02,770 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 16:48:02,770 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 16:48:59,682 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 16:48:59,683 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 16:48:59,683 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 16:48:59,683 main.py[line: 67] INFO: 调试模式
2019-02-20 16:49:01,532 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 16:49:01,533 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 16:49:01,534 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 16:49:01,555 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 16:49:01,555 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 16:49:01,614 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 16:49:01,614 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 16:49:01,615 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 16:49:01,615 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 16:49:01,615 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 16:49:01,618 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 16:49:01,631 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 16:49:01,631 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 16:49:01,631 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 16:49:01,632 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 16:49:01,649 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 16:49:01,650 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 16:49:01,650 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 16:49:01,651 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 16:49:01,651 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 16:49:01,651 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 16:49:01,652 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_smstemplatecode$', '$global_smsverifycode$', '$global_accessid$', '$global_accesstoken$']
2019-02-20 16:49:01,652 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_smsverifycode': '654321'}
2019-02-20 16:49:01,652 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smstemplatecode$
2019-02-20 16:49:01,652 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsverifycode$
2019-02-20 16:49:01,653 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessid$
2019-02-20 16:49:01,653 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accesstoken$
2019-02-20 16:49:01,653 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "${global_mobile}",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": "654321"
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 16:49:01,653 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 16:49:01,654 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:49:01,654 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_smsverifycode': '654321'}
2019-02-20 16:49:01,655 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 16:49:01,655 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 16:49:01,655 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:49:01,655 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_smsverifycode': '654321'}
2019-02-20 16:49:01,656 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 16:49:01,656 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 16:49:01,656 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 16:49:01,657 httpprotocol.py[line: 105] INFO: 参数为：b'"{\\n  \\"userId\\": \\"${global_mobile}\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": \\"654321\\"\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 16:49:01,657 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json;charset=utf-8'}
2019-02-20 16:49:01,708 APIUnittestTestCase.py[line: 129] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 16:49:01,713 test_case.py[line: 86] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-20 16:49:01,713 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 16:49:01,713 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 16:49:01,713 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 16:50:45,539 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 16:50:45,539 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 16:50:45,540 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 16:50:45,540 main.py[line: 67] INFO: 调试模式
2019-02-20 16:50:47,615 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 16:50:47,616 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 16:50:47,616 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 16:50:47,637 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 16:50:47,637 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 16:50:47,658 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 16:50:47,659 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 16:50:47,676 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 16:50:47,676 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 16:50:47,677 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 16:50:47,691 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 16:50:47,705 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 16:50:47,705 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 16:50:47,705 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 16:50:47,706 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 16:50:47,730 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 16:50:47,730 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 16:50:47,731 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 16:50:47,731 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 16:50:47,731 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 16:50:47,731 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 16:50:47,732 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_smstemplatecode$', '$global_smsverifycode$', '$global_accessid$', '$global_accesstoken$']
2019-02-20 16:50:47,732 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 16:50:47,733 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smstemplatecode$
2019-02-20 16:50:47,733 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsverifycode$
2019-02-20 16:50:47,733 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessid$
2019-02-20 16:50:47,733 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accesstoken$
2019-02-20 16:50:47,734 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "${global_mobile}",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": "654321"
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 16:50:47,734 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 16:50:47,734 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:50:47,735 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 16:50:47,735 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 16:50:47,735 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 16:50:47,735 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:50:47,736 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 16:50:47,736 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 16:50:47,737 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 16:50:47,737 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 16:50:47,737 httpprotocol.py[line: 105] INFO: 参数为：b'"{\\n  \\"userId\\": \\"${global_mobile}\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": \\"654321\\"\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 16:50:47,738 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json;charset=utf-8'}
2019-02-20 16:50:47,989 APIUnittestTestCase.py[line: 129] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 16:50:47,992 test_case.py[line: 86] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-20 16:50:47,992 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 16:50:47,993 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 16:50:47,993 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 16:51:33,098 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 16:51:33,099 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 16:51:33,099 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 16:51:33,100 main.py[line: 67] INFO: 调试模式
2019-02-20 16:51:35,347 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 16:51:35,348 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 16:51:35,348 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 16:51:35,359 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 16:51:35,359 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 16:51:35,373 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 16:51:35,373 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 16:51:35,385 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 16:51:35,385 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 16:51:35,385 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 16:51:35,396 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 16:51:35,404 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 16:51:35,405 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 16:51:35,405 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 16:51:35,405 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 16:51:35,423 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 16:51:35,423 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 16:51:35,424 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 16:51:35,424 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 16:51:35,424 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 16:51:35,424 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 16:51:35,425 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smstemplatecode$', '$global_smsverifycode$', '$global_accessid$', '$global_accesstoken$']
2019-02-20 16:51:35,425 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_smsverifycode': '654321'}
2019-02-20 16:51:35,425 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-20 16:51:35,425 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smstemplatecode$
2019-02-20 16:51:35,426 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsverifycode$
2019-02-20 16:51:35,426 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessid$
2019-02-20 16:51:35,426 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accesstoken$
2019-02-20 16:51:35,426 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": "654321"
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 16:51:35,426 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 16:51:35,427 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:51:35,427 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_smsverifycode': '654321'}
2019-02-20 16:51:35,427 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 16:51:35,427 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 16:51:35,427 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:51:35,428 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json;charset=utf-8"} }', 'global_smsverifycode': '654321'}
2019-02-20 16:51:35,428 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 16:51:35,428 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 16:51:35,428 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 16:51:35,429 httpprotocol.py[line: 105] INFO: 参数为：b'"{\\n  \\"userId\\": \\"17817738178\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": \\"654321\\"\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 16:51:35,429 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json;charset=utf-8'}
2019-02-20 16:51:35,477 APIUnittestTestCase.py[line: 129] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 16:51:35,479 test_case.py[line: 86] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-20 16:51:35,480 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 16:51:35,480 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 16:51:35,481 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 16:52:47,104 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 16:52:47,105 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 16:52:47,105 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 16:52:47,106 main.py[line: 67] INFO: 调试模式
2019-02-20 16:52:51,589 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 16:52:51,590 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 16:52:51,590 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 16:52:51,603 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 16:52:51,604 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 16:52:51,618 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 16:52:51,618 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 16:52:51,631 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 16:52:51,631 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 16:52:51,631 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 16:52:51,645 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 16:52:51,656 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 16:52:51,657 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 16:52:51,657 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 16:52:51,657 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 16:52:51,676 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 16:52:51,677 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 16:52:51,677 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 16:52:51,677 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 16:52:51,677 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 16:52:51,678 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 16:52:51,678 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smstemplatecode$', '$global_smsverifycode$', '$global_accessid$', '$global_accesstoken$']
2019-02-20 16:52:51,678 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 16:52:51,679 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-20 16:52:51,679 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smstemplatecode$
2019-02-20 16:52:51,679 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsverifycode$
2019-02-20 16:52:51,679 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessid$
2019-02-20 16:52:51,680 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accesstoken$
2019-02-20 16:52:51,680 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": "654321"
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 16:52:51,680 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 16:52:51,680 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:52:51,680 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 16:52:51,681 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 16:52:51,681 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 16:52:51,681 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:52:51,681 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 16:52:51,682 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 16:52:51,682 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 16:52:51,682 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 16:52:51,682 httpprotocol.py[line: 105] INFO: 参数为：b'"{\\n  \\"userId\\": \\"17817738178\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": \\"654321\\"\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 16:52:51,683 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json'}
2019-02-20 16:52:51,940 APIUnittestTestCase.py[line: 129] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 16:52:51,943 test_case.py[line: 86] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-20 16:52:51,944 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 16:52:51,944 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 16:52:51,944 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 16:54:35,675 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 16:54:35,676 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 16:54:35,676 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 16:54:35,676 main.py[line: 67] INFO: 调试模式
2019-02-20 16:54:42,890 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 16:54:42,892 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 16:54:42,892 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 16:54:42,916 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 16:54:42,917 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 16:54:42,937 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 16:54:42,937 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 16:54:42,955 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 16:54:42,956 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 16:54:42,956 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 16:54:42,966 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 16:54:42,978 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 16:54:42,978 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 16:54:42,978 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 16:54:42,979 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 16:54:42,996 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 16:54:42,996 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 16:54:42,997 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 16:54:42,997 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 16:54:42,997 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 16:54:42,997 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 16:54:42,998 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smstemplatecode$', '$global_accessid$', '$global_accesstoken$']
2019-02-20 16:54:42,998 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 16:54:42,998 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-20 16:54:42,998 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smstemplatecode$
2019-02-20 16:54:42,998 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessid$
2019-02-20 16:54:42,999 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accesstoken$
2019-02-20 16:54:42,999 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654324
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 16:54:42,999 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 16:54:42,999 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:54:42,999 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 16:54:43,000 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 16:54:43,000 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 16:54:43,000 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:54:43,000 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 16:54:43,000 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 16:54:43,001 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 16:54:43,001 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 16:54:43,001 httpprotocol.py[line: 105] INFO: 参数为：b'"{\\n  \\"userId\\": \\"17817738178\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": 654324\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 16:54:43,002 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json'}
2019-02-20 16:54:43,039 APIUnittestTestCase.py[line: 129] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 16:54:43,042 test_case.py[line: 86] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-20 16:54:43,043 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 16:54:43,043 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 16:54:43,043 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 16:56:33,180 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 16:56:33,180 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 16:56:33,180 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 16:56:33,181 main.py[line: 67] INFO: 调试模式
2019-02-20 16:56:34,974 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 16:56:34,980 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 16:56:34,981 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 16:56:35,001 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 16:56:35,001 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 16:56:35,017 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 16:56:35,017 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 16:56:35,029 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 16:56:35,029 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 16:56:35,029 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 16:56:35,040 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 16:56:35,051 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 16:56:35,052 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 16:56:35,052 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 16:56:35,052 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 16:56:35,071 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 16:56:35,071 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 16:56:35,071 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 16:56:35,072 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 16:56:35,072 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 16:56:35,072 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 16:56:35,072 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smstemplatecode$', '$global_accessid$', '$global_accesstoken$']
2019-02-20 16:56:35,073 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }'}
2019-02-20 16:56:35,073 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-20 16:56:35,073 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smstemplatecode$
2019-02-20 16:56:35,073 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessid$
2019-02-20 16:56:35,073 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accesstoken$
2019-02-20 16:56:35,074 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654324
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 16:56:35,074 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 16:56:35,074 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:56:35,074 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }'}
2019-02-20 16:56:35,074 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 16:56:35,075 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 16:56:35,075 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:56:35,075 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }'}
2019-02-20 16:56:35,075 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 16:56:35,076 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 16:56:35,076 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 16:56:35,076 httpprotocol.py[line: 105] INFO: 参数为：b'"{\\n  \\"userId\\": \\"17817738178\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": 654324\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 16:56:35,076 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json'}
2019-02-20 16:56:35,114 APIUnittestTestCase.py[line: 129] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 16:56:35,115 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 16:56:35,115 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 16:56:35,115 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 16:57:51,571 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 16:57:51,572 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 16:57:51,572 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 16:57:51,572 main.py[line: 67] INFO: 调试模式
2019-02-20 16:57:53,895 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 16:57:53,895 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 16:57:53,896 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 16:57:53,918 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 16:57:53,918 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 16:57:53,941 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 16:57:53,941 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 16:57:53,957 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 16:57:53,958 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 16:57:53,958 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 16:57:53,971 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 16:57:53,980 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 16:57:53,981 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 16:57:53,981 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 16:57:53,981 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 16:57:54,000 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 16:57:54,001 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 16:57:54,001 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 16:57:54,001 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 16:57:54,001 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 16:57:54,001 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 16:57:54,002 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:57:54,002 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 16:57:54,002 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 16:57:54,003 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 16:57:54,003 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:57:54,003 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 16:57:54,003 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 16:57:54,003 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 16:57:54,004 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 16:57:54,004 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 16:57:54,004 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 16:57:54,004 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 16:57:54,005 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 16:57:54,005 httpprotocol.py[line: 105] INFO: 参数为：b'"{\\n  \\"userId\\": \\"17817738178\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": 654321\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 16:57:54,005 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json'}
2019-02-20 16:57:54,061 APIUnittestTestCase.py[line: 129] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 16:57:54,061 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 16:57:54,062 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 16:57:54,062 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:05:31,108 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:05:31,108 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:05:31,109 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:05:31,109 main.py[line: 67] INFO: 调试模式
2019-02-20 17:05:33,723 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:05:33,724 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:05:33,724 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:05:33,756 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:05:33,757 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:05:33,774 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:05:33,774 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:05:33,792 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:05:33,792 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:05:33,792 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:05:33,807 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:05:33,821 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:05:33,821 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:05:33,822 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:05:33,822 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:05:33,843 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:05:33,844 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:05:33,844 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:05:33,844 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:05:33,845 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:05:33,845 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:05:33,845 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:05:33,846 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 17:05:33,846 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:05:33,846 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:05:33,846 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:05:33,847 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 17:05:33,847 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:05:33,847 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:05:33,847 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:05:33,848 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 17:05:33,848 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:05:33,848 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:05:33,849 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:05:33,849 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\n  \\"userId\\": \\"17817738178\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": 654321\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 17:05:33,849 httpprotocol.py[line: 108] INFO: 请求头为：{'Content-Type': 'application/json'}
2019-02-20 17:05:34,105 APIUnittestTestCase.py[line: 129] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 17:05:34,106 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:05:34,106 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:05:34,107 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:07:47,949 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:07:47,949 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:07:47,950 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:07:47,950 main.py[line: 67] INFO: 调试模式
2019-02-20 17:07:49,417 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:07:49,418 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:07:49,419 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:07:49,441 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:07:49,441 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:07:49,459 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:07:49,460 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:07:49,476 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:07:49,476 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:07:49,476 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:07:49,486 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:07:49,496 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:07:49,496 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:07:49,497 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:07:49,497 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:07:49,516 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:07:49,516 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:07:49,516 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:07:49,517 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:07:49,517 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:07:49,517 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:07:49,517 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:07:49,518 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accessid': 'o17O12xf', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321'}
2019-02-20 17:07:49,518 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:07:49,518 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:07:49,518 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:07:49,519 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accessid': 'o17O12xf', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321'}
2019-02-20 17:07:49,519 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:07:49,519 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:07:49,519 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:07:49,519 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accessid': 'o17O12xf', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321'}
2019-02-20 17:07:49,520 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:07:49,520 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:07:49,521 APIUnittestTestCase.py[line: 123] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:07:49,521 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:07:49,521 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\n  \\"userId\\": \\"17817738178\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": 654321\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 17:07:49,521 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json'}
2019-02-20 17:07:49,568 APIUnittestTestCase.py[line: 130] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 17:07:49,569 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:07:49,569 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:07:49,570 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:08:40,875 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:08:40,876 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:08:40,876 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:08:40,876 main.py[line: 67] INFO: 调试模式
2019-02-20 17:08:43,864 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:08:43,865 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:08:43,866 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:08:43,890 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:08:43,891 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:08:43,916 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:08:43,917 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:08:43,938 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:08:43,938 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:08:43,939 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:08:43,952 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:08:43,965 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:08:43,965 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:08:43,965 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:08:43,966 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:08:43,987 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:08:43,987 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:08:43,988 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:08:43,988 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:08:43,988 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:08:43,988 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:08:43,989 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:08:43,989 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 17:08:43,989 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:08:43,990 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:08:43,990 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:08:43,990 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 17:08:43,990 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:08:43,991 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:08:43,991 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:08:43,991 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 17:08:43,991 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:08:43,992 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:08:43,992 APIUnittestTestCase.py[line: 123] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:08:43,995 test_case.py[line: 86] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-20 17:08:43,995 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:08:43,995 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:08:43,995 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:09:13,496 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:09:13,497 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:09:13,497 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:09:13,497 main.py[line: 67] INFO: 调试模式
2019-02-20 17:09:19,809 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:09:19,810 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:09:19,811 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:09:19,832 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:09:19,832 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:09:19,859 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:09:19,860 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:09:19,873 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:09:19,873 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:09:19,873 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:09:19,888 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:09:19,904 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:09:19,905 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:09:19,905 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:09:19,905 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:09:19,926 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:09:19,927 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:09:19,927 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:09:19,927 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:09:19,928 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:09:19,928 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:09:19,929 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:09:19,929 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf'}
2019-02-20 17:09:19,929 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:09:19,929 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:09:19,929 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:09:19,930 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf'}
2019-02-20 17:09:19,930 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:09:19,930 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:09:19,930 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:09:19,930 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf'}
2019-02-20 17:09:19,931 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:09:19,931 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:09:19,931 APIUnittestTestCase.py[line: 123] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:09:19,932 APIUnittestTestCase.py[line: 125] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:09:19,932 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:09:19,932 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\n  \\"userId\\": \\"17817738178\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": 654321\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 17:09:19,932 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json'}
2019-02-20 17:09:20,197 APIUnittestTestCase.py[line: 132] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 17:09:20,199 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:09:20,199 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:09:20,200 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:10:49,869 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:10:49,869 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:10:49,870 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:10:49,870 main.py[line: 67] INFO: 调试模式
2019-02-20 17:10:52,090 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:10:52,091 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:10:52,091 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:10:52,104 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:10:52,105 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:10:52,120 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:10:52,121 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:10:52,134 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:10:52,135 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:10:52,135 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:10:52,146 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:10:52,159 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:10:52,159 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:10:52,159 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:10:52,160 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:10:52,178 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:10:52,178 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:10:52,178 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:10:52,179 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:10:52,179 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:10:52,179 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:10:52,179 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:10:52,180 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 17:10:52,180 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:10:52,180 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:10:52,180 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:10:52,180 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 17:10:52,181 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:10:52,181 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:10:52,181 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:10:52,181 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 17:10:52,182 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:10:52,182 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:10:52,182 APIUnittestTestCase.py[line: 123] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:10:52,182 APIUnittestTestCase.py[line: 125] INFO: "{  \"userId\": \"17817738178\",  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",  \"templateParam\": {    \"smsVerifyCode\": 654321  },  \"accessId\": \"o17O12xf\",  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"}"
2019-02-20 17:10:52,183 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:10:52,183 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{  \\"userId\\": \\"17817738178\\",  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",  \\"templateParam\\": {    \\"smsVerifyCode\\": 654321  },  \\"accessId\\": \\"o17O12xf\\",  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"}"'
2019-02-20 17:10:52,183 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json'}
2019-02-20 17:10:52,246 APIUnittestTestCase.py[line: 132] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 17:10:52,247 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:10:52,247 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:10:52,247 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:12:11,634 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:12:11,634 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:12:11,635 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:12:11,635 main.py[line: 67] INFO: 调试模式
2019-02-20 17:12:13,589 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:12:13,590 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:12:13,591 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:12:13,615 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:12:13,616 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:12:13,639 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:12:13,640 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:12:13,667 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:12:13,668 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:12:13,669 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:12:13,689 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:12:13,703 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:12:13,703 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:12:13,704 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:12:13,704 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:12:13,722 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:12:13,723 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:12:13,723 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:12:13,723 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:12:13,723 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:12:13,724 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:12:13,724 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:12:13,724 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf'}
2019-02-20 17:12:13,725 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:12:13,725 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:12:13,725 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:12:13,725 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf'}
2019-02-20 17:12:13,725 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:12:13,726 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:12:13,726 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:12:13,726 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf'}
2019-02-20 17:12:13,726 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:12:13,727 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:12:13,727 APIUnittestTestCase.py[line: 123] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:12:13,730 test_case.py[line: 86] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-20 17:12:13,730 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:12:13,731 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:12:13,731 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:12:27,114 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:12:27,115 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:12:27,115 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:12:27,115 main.py[line: 67] INFO: 调试模式
2019-02-20 17:12:28,456 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:12:28,457 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:12:28,457 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:12:28,470 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:12:28,470 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:12:28,484 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:12:28,484 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:12:28,498 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:12:28,499 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:12:28,499 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:12:28,511 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:12:28,523 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:12:28,523 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:12:28,524 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:12:28,524 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:12:28,541 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:12:28,542 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:12:28,542 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:12:28,542 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:12:28,542 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:12:28,543 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:12:28,543 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:12:28,543 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 17:12:28,543 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:12:28,544 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:12:28,544 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:12:28,544 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 17:12:28,544 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:12:28,544 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:12:28,545 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:12:28,545 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 17:12:28,545 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:12:28,545 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:12:28,546 APIUnittestTestCase.py[line: 123] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:12:28,546 APIUnittestTestCase.py[line: 125] INFO: "{\"userId\":\"17817738178\",\"templateCode\":\"TESTCODE-VALIDATE-CODE\",\"templateParam\":{\"smsVerifyCode\":654321},\"accessId\":\"o17O12xf\",\"accessToken\":\"a950ca7a32104ebfba5ba214101fe66e\"}"
2019-02-20 17:12:28,546 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:12:28,546 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\"userId\\":\\"17817738178\\",\\"templateCode\\":\\"TESTCODE-VALIDATE-CODE\\",\\"templateParam\\":{\\"smsVerifyCode\\":654321},\\"accessId\\":\\"o17O12xf\\",\\"accessToken\\":\\"a950ca7a32104ebfba5ba214101fe66e\\"}"'
2019-02-20 17:12:28,546 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json'}
2019-02-20 17:12:28,582 APIUnittestTestCase.py[line: 132] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 17:12:28,583 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:12:28,583 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:12:28,584 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:13:35,728 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:13:35,728 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:13:35,729 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:13:35,729 main.py[line: 67] INFO: 调试模式
2019-02-20 17:13:39,125 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:13:39,125 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:13:39,125 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:13:39,140 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:13:39,140 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:13:39,154 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:13:39,155 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:13:39,168 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:13:39,169 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:13:39,169 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:13:39,181 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:13:39,192 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:13:39,193 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:13:39,193 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:13:39,193 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:13:39,211 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:13:39,211 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:13:39,211 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:13:39,212 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:13:39,212 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:13:39,212 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:13:39,212 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:13:39,213 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321'}
2019-02-20 17:13:39,213 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:13:39,213 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:13:39,213 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:13:39,213 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321'}
2019-02-20 17:13:39,214 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:13:39,214 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:13:39,214 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:13:39,214 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321'}
2019-02-20 17:13:39,214 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:13:39,215 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:13:39,216 APIUnittestTestCase.py[line: 123] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:13:39,216 APIUnittestTestCase.py[line: 125] INFO: "{\"userId\":\"17817738178\",\"templateCode\":\"TESTCODE-VALIDATE-CODE\",\"templateParam\":{\"smsVerifyCode\":654321},\"accessId\":\"o17O12xf\",\"accessToken\":\"a950ca7a32104ebfba5ba214101fe66e\"}"
2019-02-20 17:13:39,216 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:13:39,216 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\"userId\\":\\"17817738178\\",\\"templateCode\\":\\"TESTCODE-VALIDATE-CODE\\",\\"templateParam\\":{\\"smsVerifyCode\\":654321},\\"accessId\\":\\"o17O12xf\\",\\"accessToken\\":\\"a950ca7a32104ebfba5ba214101fe66e\\"}"'
2019-02-20 17:13:39,217 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json'}
2019-02-20 17:13:39,259 APIUnittestTestCase.py[line: 132] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 17:13:39,260 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:13:39,260 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:13:39,260 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:14:45,312 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:14:45,312 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:14:45,312 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:14:45,312 main.py[line: 67] INFO: 调试模式
2019-02-20 17:14:45,896 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:14:45,897 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:14:45,905 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:14:45,920 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:14:45,921 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:14:45,938 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:14:45,939 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:14:45,952 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:14:45,953 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:14:45,953 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:14:45,962 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:14:45,973 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:14:45,974 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:14:45,974 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:14:45,975 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:14:45,992 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:14:45,993 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:14:45,993 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:14:45,993 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:14:45,993 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:14:45,994 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:14:45,994 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:14:45,995 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 17:14:45,995 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:14:45,995 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:14:45,995 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:14:45,996 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 17:14:45,996 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:14:45,996 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:14:45,996 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:14:45,997 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 17:14:45,997 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:14:45,997 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:14:45,998 APIUnittestTestCase.py[line: 123] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:14:45,998 APIUnittestTestCase.py[line: 125] INFO: "{\"userId\":\"17817738178\",\"templateCode\":\"TESTCODE-VALIDATE-CODE\",\"templateParam\":{\"smsVerifyCode\":654321},\"accessId\":\"o17O12xf\",\"accessToken\":\"a950ca7a32104ebfba5ba214101fe66e\"}"
2019-02-20 17:14:45,998 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:14:45,998 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\"userId\\":\\"17817738178\\",\\"templateCode\\":\\"TESTCODE-VALIDATE-CODE\\",\\"templateParam\\":{\\"smsVerifyCode\\":654321},\\"accessId\\":\\"o17O12xf\\",\\"accessToken\\":\\"a950ca7a32104ebfba5ba214101fe66e\\"}"'
2019-02-20 17:14:45,999 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json'}
2019-02-20 17:14:46,039 APIUnittestTestCase.py[line: 132] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 17:14:46,040 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:14:46,040 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:14:46,041 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:25:20,570 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:25:20,571 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:25:20,571 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:25:20,572 main.py[line: 67] INFO: 调试模式
2019-02-20 17:25:22,507 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:25:22,508 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:25:22,509 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:25:22,531 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:25:22,531 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:25:22,544 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:25:22,544 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:25:22,558 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:25:22,559 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:25:22,559 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:25:22,569 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:25:22,581 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:25:22,581 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:25:22,582 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:25:22,582 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:25:22,599 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:25:22,599 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:25:22,600 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:25:22,600 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:25:22,600 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:25:22,600 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:25:22,601 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:25:22,601 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 17:25:22,601 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:25:22,602 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:25:22,602 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:25:22,602 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 17:25:22,602 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:25:22,602 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:25:22,603 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:25:22,603 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 17:25:22,603 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:25:22,603 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:25:22,604 APIUnittestTestCase.py[line: 123] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:25:22,604 APIUnittestTestCase.py[line: 125] INFO: "{\"userId\":\"17817738178\",\"templateCode\":\"TESTCODE-VALIDATE-CODE\",\"templateParam\":{\"smsVerifyCode\":654321},\"accessId\":\"o17O12xf\",\"accessToken\":\"a950ca7a32104ebfba5ba214101fe66e\"}"
2019-02-20 17:25:22,604 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:25:22,604 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\"userId\\":\\"17817738178\\",\\"templateCode\\":\\"TESTCODE-VALIDATE-CODE\\",\\"templateParam\\":{\\"smsVerifyCode\\":654321},\\"accessId\\":\\"o17O12xf\\",\\"accessToken\\":\\"a950ca7a32104ebfba5ba214101fe66e\\"}"'
2019-02-20 17:25:22,604 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-20 17:25:22,653 APIUnittestTestCase.py[line: 132] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 17:25:22,654 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:25:22,654 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:25:22,655 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:27:06,114 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:27:06,114 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:27:06,115 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:27:06,115 main.py[line: 67] INFO: 调试模式
2019-02-20 17:27:07,466 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:27:07,467 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:27:07,467 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:27:07,489 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:27:07,490 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:27:07,504 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:27:07,504 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:27:07,519 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:27:07,520 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:27:07,520 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:27:07,532 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:27:07,544 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:27:07,544 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:27:07,544 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:27:07,545 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:27:07,565 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:27:07,565 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:27:07,566 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:27:07,566 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:27:07,566 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:27:07,566 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:27:07,567 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:27:07,567 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 17:27:07,567 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:27:07,568 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:27:07,568 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:27:07,568 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 17:27:07,568 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:27:07,569 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:27:07,569 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:27:07,569 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 17:27:07,570 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:27:07,570 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:27:07,570 APIUnittestTestCase.py[line: 122] INFO: {
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:27:07,571 APIUnittestTestCase.py[line: 124] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:27:07,571 APIUnittestTestCase.py[line: 126] INFO: "{\"userId\":\"17817738178\",\"templateCode\":\"TESTCODE-VALIDATE-CODE\",\"templateParam\":{\"smsVerifyCode\":654321},\"accessId\":\"o17O12xf\",\"accessToken\":\"a950ca7a32104ebfba5ba214101fe66e\"}"
2019-02-20 17:27:07,571 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:27:07,571 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\"userId\\":\\"17817738178\\",\\"templateCode\\":\\"TESTCODE-VALIDATE-CODE\\",\\"templateParam\\":{\\"smsVerifyCode\\":654321},\\"accessId\\":\\"o17O12xf\\",\\"accessToken\\":\\"a950ca7a32104ebfba5ba214101fe66e\\"}"'
2019-02-20 17:27:07,572 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-20 17:27:07,835 APIUnittestTestCase.py[line: 133] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 17:27:07,835 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:27:07,836 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:27:07,836 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:35:59,156 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:35:59,158 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:35:59,158 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:35:59,158 main.py[line: 67] INFO: 调试模式
2019-02-20 17:36:00,625 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:36:00,626 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:36:00,627 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:36:00,639 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:36:00,639 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:36:00,654 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:36:00,654 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:36:00,667 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:36:00,667 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:36:00,667 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:36:00,679 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:36:00,691 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:36:00,692 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:36:00,692 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:36:00,692 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:36:00,711 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:36:00,711 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:36:00,712 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:36:00,712 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:36:00,712 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:36:00,712 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:36:00,713 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:36:00,714 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 17:36:00,714 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:36:00,714 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:36:00,714 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:36:00,714 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 17:36:00,715 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:36:00,715 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:36:00,715 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:36:00,716 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 17:36:00,716 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:36:00,716 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:36:00,716 APIUnittestTestCase.py[line: 122] INFO: {
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:36:00,717 APIUnittestTestCase.py[line: 124] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:36:00,717 APIUnittestTestCase.py[line: 126] INFO: "{\"userId\":\"17817738178\",\"templateCode\":\"TESTCODE-VALIDATE-CODE\",\"templateParam\":{\"smsVerifyCode\":654321},\"accessId\":\"o17O12xf\",\"accessToken\":\"a950ca7a32104ebfba5ba214101fe66e\"}"
2019-02-20 17:36:00,717 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:36:00,717 httpprotocol.py[line: 105] INFO: 请求参数为：{'accessId': 'o17O12xf', 'accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'userId': '17817738178', 'templateParam': {'smsVerifyCode': 654321}, 'templateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 17:36:00,718 httpprotocol.py[line: 106] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-20 17:36:00,719 APIUnittestTestCase.py[line: 141] INFO: [None, "Content-Length should be specified for iterable data of type <class 'dict'> {'accessId': 'o17O12xf', 'accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'userId': '17817738178', 'templateParam': {'smsVerifyCode': 654321}, 'templateCode': 'TESTCODE-VALIDATE-CODE'}"]
2019-02-20 17:36:00,719 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:36:00,719 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:36:00,720 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:37:28,114 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:37:28,115 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:37:28,115 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:37:28,115 main.py[line: 67] INFO: 调试模式
2019-02-20 17:37:30,617 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:37:30,617 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:37:30,617 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:37:30,631 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:37:30,632 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:37:30,644 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:37:30,645 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:37:30,658 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:37:30,659 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:37:30,659 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:37:30,669 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:37:30,682 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:37:30,682 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:37:30,683 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:37:30,683 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:37:30,702 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:37:30,702 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:37:30,702 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:37:30,702 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:37:30,703 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:37:30,703 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:37:30,703 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:37:30,703 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178'}
2019-02-20 17:37:30,704 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:37:30,704 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:37:30,704 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:37:30,704 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178'}
2019-02-20 17:37:30,704 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:37:30,705 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:37:30,705 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:37:30,705 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178'}
2019-02-20 17:37:30,705 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:37:30,706 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:37:30,706 APIUnittestTestCase.py[line: 122] INFO: {
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:37:30,706 APIUnittestTestCase.py[line: 131] INFO: {"userId": "17817738178", "accessToken": "a950ca7a32104ebfba5ba214101fe66e", "accessId": "o17O12xf", "templateCode": "TESTCODE-VALIDATE-CODE", "templateParam": {"smsVerifyCode": 654321}}
2019-02-20 17:37:30,706 APIUnittestTestCase.py[line: 133] INFO: {"userId":"17817738178","accessToken":"a950ca7a32104ebfba5ba214101fe66e","accessId":"o17O12xf","templateCode":"TESTCODE-VALIDATE-CODE","templateParam":{"smsVerifyCode":654321}}
2019-02-20 17:37:30,706 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:37:30,707 httpprotocol.py[line: 105] INFO: 请求参数为：b'{"userId":"17817738178","accessToken":"a950ca7a32104ebfba5ba214101fe66e","accessId":"o17O12xf","templateCode":"TESTCODE-VALIDATE-CODE","templateParam":{"smsVerifyCode":654321}}'
2019-02-20 17:37:30,707 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-20 17:37:30,757 APIUnittestTestCase.py[line: 142] INFO: [b'{"requestId":"113f6e2fc3da4b12b62b626fd040e5b8","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 17:37:30","version":null,"obj":null}', [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 09:37:30 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-8')], 200]
2019-02-20 17:37:30,758 APIUnittestTestCase.py[line: 150] INFO: 正在对服务器返回body进行解码
2019-02-20 17:37:30,791 APIUnittestTestCase.py[line: 177] INFO: 服务器返回结果"响应体(body)": {"requestId":"113f6e2fc3da4b12b62b626fd040e5b8","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 17:37:30","version":null,"obj":null}
2019-02-20 17:37:30,791 APIUnittestTestCase.py[line: 178] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 09:37:30 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-8')]
2019-02-20 17:37:30,792 APIUnittestTestCase.py[line: 179] INFO: 服务器返回结果"状态码(code)": 200
2019-02-20 17:37:30,792 APIUnittestTestCase.py[line: 182] INFO: 正在提取目标返回结果值
2019-02-20 17:37:30,792 APIUnittestTestCase.py[line: 185] INFO: 正在执行断言
2019-02-20 17:37:30,792 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-20 17:37:30,792 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:37:30,793 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178'}
2019-02-20 17:37:30,793 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-20 17:37:30,793 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-20 17:37:30,794 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:37:30,794 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:37:30,794 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:38:54,918 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:38:54,919 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:38:54,919 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:38:54,919 main.py[line: 67] INFO: 调试模式
2019-02-20 17:38:58,395 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:38:58,396 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:38:58,397 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:38:58,416 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:38:58,416 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:38:58,433 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:38:58,433 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:38:58,447 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:38:58,447 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:38:58,448 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:38:58,458 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:38:58,470 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:38:58,470 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:38:58,471 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:38:58,471 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:38:58,487 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:38:58,487 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:38:58,487 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:38:58,488 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:38:58,488 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:38:58,488 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:38:58,488 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:38:58,489 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 17:38:58,489 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:38:58,489 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:38:58,489 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:38:58,489 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 17:38:58,490 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:38:58,490 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:38:58,490 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:38:58,490 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 17:38:58,490 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:38:58,491 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:38:58,491 APIUnittestTestCase.py[line: 122] INFO: {
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:38:58,491 APIUnittestTestCase.py[line: 131] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:38:58,492 APIUnittestTestCase.py[line: 133] INFO: "{\"userId\":\"17817738178\",\"templateCode\":\"TESTCODE-VALIDATE-CODE\",\"templateParam\":{\"smsVerifyCode\":654321},\"accessId\":\"o17O12xf\",\"accessToken\":\"a950ca7a32104ebfba5ba214101fe66e\"}"
2019-02-20 17:38:58,492 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:38:58,492 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\"userId\\":\\"17817738178\\",\\"templateCode\\":\\"TESTCODE-VALIDATE-CODE\\",\\"templateParam\\":{\\"smsVerifyCode\\":654321},\\"accessId\\":\\"o17O12xf\\",\\"accessToken\\":\\"a950ca7a32104ebfba5ba214101fe66e\\"}"'
2019-02-20 17:38:58,492 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-20 17:38:58,529 APIUnittestTestCase.py[line: 142] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 17:38:58,530 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:38:58,530 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:38:58,531 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:40:24,997 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:40:24,997 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:40:24,998 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:40:24,998 main.py[line: 67] INFO: 调试模式
2019-02-20 17:40:26,268 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:40:26,269 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:40:26,270 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:40:26,302 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:40:26,302 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:40:26,338 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:40:26,338 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:40:26,371 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:40:26,372 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:40:26,372 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:40:26,389 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:40:26,405 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:40:26,405 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:40:26,405 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:40:26,406 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:40:26,433 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:40:26,434 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:40:26,434 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:40:26,435 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:40:26,435 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:40:26,435 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:40:26,436 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:40:26,436 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsverifycode': '654321', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }'}
2019-02-20 17:40:26,437 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:40:26,437 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:40:26,437 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:40:26,438 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsverifycode': '654321', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }'}
2019-02-20 17:40:26,438 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:40:26,438 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:40:26,439 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:40:26,439 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsverifycode': '654321', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }'}
2019-02-20 17:40:26,439 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:40:26,440 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:40:26,440 APIUnittestTestCase.py[line: 122] INFO: {
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:40:26,440 APIUnittestTestCase.py[line: 134] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:40:26,441 APIUnittestTestCase.py[line: 136] INFO: "{\"userId\":\"17817738178\",\"templateCode\":\"TESTCODE-VALIDATE-CODE\",\"templateParam\":{\"smsVerifyCode\":654321},\"accessId\":\"o17O12xf\",\"accessToken\":\"a950ca7a32104ebfba5ba214101fe66e\"}"
2019-02-20 17:40:26,441 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:40:26,441 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\"userId\\":\\"17817738178\\",\\"templateCode\\":\\"TESTCODE-VALIDATE-CODE\\",\\"templateParam\\":{\\"smsVerifyCode\\":654321},\\"accessId\\":\\"o17O12xf\\",\\"accessToken\\":\\"a950ca7a32104ebfba5ba214101fe66e\\"}"'
2019-02-20 17:40:26,442 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-20 17:40:26,499 APIUnittestTestCase.py[line: 145] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 17:40:26,500 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:40:26,500 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:40:26,501 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:42:36,007 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:42:36,008 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:42:36,008 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:42:36,008 main.py[line: 67] INFO: 调试模式
2019-02-20 17:42:38,311 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:42:38,312 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:42:38,312 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:42:38,340 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:42:38,341 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:42:38,355 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:42:38,355 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:42:38,371 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:42:38,371 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:42:38,372 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:42:38,384 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:42:38,395 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:42:38,395 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:42:38,396 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:42:38,396 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:42:38,414 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:42:38,415 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:42:38,415 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:42:38,415 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:42:38,416 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:42:38,416 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:42:38,416 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:42:38,417 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 17:42:38,417 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:42:38,417 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:42:38,418 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:42:38,418 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 17:42:38,418 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:42:38,418 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:42:38,418 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:42:38,419 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 17:42:38,419 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:42:38,419 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:42:38,420 APIUnittestTestCase.py[line: 122] INFO: {
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:42:38,420 APIUnittestTestCase.py[line: 124] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:42:38,420 APIUnittestTestCase.py[line: 135] INFO: {"accessId": "o17O12xf", "accessToken": "a950ca7a32104ebfba5ba214101fe66e", "templateParam": {"smsVerifyCode": 654321}, "userId": "17817738178", "templateCode": "TESTCODE-VALIDATE-CODE"}
2019-02-20 17:42:38,420 APIUnittestTestCase.py[line: 137] INFO: {"accessId":"o17O12xf","accessToken":"a950ca7a32104ebfba5ba214101fe66e","templateParam":{"smsVerifyCode":654321},"userId":"17817738178","templateCode":"TESTCODE-VALIDATE-CODE"}
2019-02-20 17:42:38,421 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:42:38,421 httpprotocol.py[line: 105] INFO: 请求参数为：b'{"accessId":"o17O12xf","accessToken":"a950ca7a32104ebfba5ba214101fe66e","templateParam":{"smsVerifyCode":654321},"userId":"17817738178","templateCode":"TESTCODE-VALIDATE-CODE"}'
2019-02-20 17:42:38,421 httpprotocol.py[line: 106] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-20 17:42:40,270 APIUnittestTestCase.py[line: 146] INFO: [b'{"requestId":"50bf25c40a7f4069be82a868ea172ab1","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 17:42:40","version":null,"obj":null}', [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 09:42:40 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')], 200]
2019-02-20 17:42:40,272 APIUnittestTestCase.py[line: 154] INFO: 正在对服务器返回body进行解码
2019-02-20 17:42:40,280 APIUnittestTestCase.py[line: 181] INFO: 服务器返回结果"响应体(body)": {"requestId":"50bf25c40a7f4069be82a868ea172ab1","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 17:42:40","version":null,"obj":null}
2019-02-20 17:42:40,280 APIUnittestTestCase.py[line: 182] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 09:42:40 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')]
2019-02-20 17:42:40,281 APIUnittestTestCase.py[line: 183] INFO: 服务器返回结果"状态码(code)": 200
2019-02-20 17:42:40,282 APIUnittestTestCase.py[line: 186] INFO: 正在提取目标返回结果值
2019-02-20 17:42:40,282 APIUnittestTestCase.py[line: 189] INFO: 正在执行断言
2019-02-20 17:42:40,282 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-20 17:42:40,282 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:42:40,283 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 17:42:40,283 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-20 17:42:40,283 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-20 17:42:40,284 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:42:40,284 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:42:40,285 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:45:58,368 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:45:58,368 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:45:58,369 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:45:58,369 main.py[line: 67] INFO: 调试模式
2019-02-20 17:45:59,791 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:45:59,792 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:45:59,793 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:45:59,814 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:45:59,815 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:45:59,828 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:45:59,828 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:45:59,841 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:45:59,842 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:45:59,842 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:45:59,851 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:45:59,863 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:45:59,863 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:45:59,863 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:45:59,863 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:45:59,881 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:45:59,882 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:45:59,882 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:45:59,882 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:45:59,882 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:45:59,883 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:45:59,883 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:45:59,883 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 17:45:59,884 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:45:59,884 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:45:59,884 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:45:59,885 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 17:45:59,885 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:45:59,885 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:45:59,885 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:45:59,886 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 17:45:59,886 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:45:59,886 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:45:59,887 APIUnittestTestCase.py[line: 122] INFO: <class 'str'>
2019-02-20 17:45:59,887 APIUnittestTestCase.py[line: 124] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:45:59,887 APIUnittestTestCase.py[line: 135] INFO: {"userId": "17817738178", "accessId": "o17O12xf", "templateParam": {"smsVerifyCode": 654321}, "accessToken": "a950ca7a32104ebfba5ba214101fe66e", "templateCode": "TESTCODE-VALIDATE-CODE"}
2019-02-20 17:45:59,887 APIUnittestTestCase.py[line: 137] INFO: {"userId":"17817738178","accessId":"o17O12xf","templateParam":{"smsVerifyCode":654321},"accessToken":"a950ca7a32104ebfba5ba214101fe66e","templateCode":"TESTCODE-VALIDATE-CODE"}
2019-02-20 17:45:59,888 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:45:59,888 httpprotocol.py[line: 105] INFO: 请求参数为：b'{"userId":"17817738178","accessId":"o17O12xf","templateParam":{"smsVerifyCode":654321},"accessToken":"a950ca7a32104ebfba5ba214101fe66e","templateCode":"TESTCODE-VALIDATE-CODE"}'
2019-02-20 17:45:59,888 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-20 17:46:00,169 APIUnittestTestCase.py[line: 146] INFO: [b'{"requestId":"aac70756a4e2474b911b8b4395eaa9e9","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 17:46:00","version":null,"obj":null}', [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 09:46:00 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')], 200]
2019-02-20 17:46:00,169 APIUnittestTestCase.py[line: 154] INFO: 正在对服务器返回body进行解码
2019-02-20 17:46:00,173 APIUnittestTestCase.py[line: 181] INFO: 服务器返回结果"响应体(body)": {"requestId":"aac70756a4e2474b911b8b4395eaa9e9","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 17:46:00","version":null,"obj":null}
2019-02-20 17:46:00,173 APIUnittestTestCase.py[line: 182] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 09:46:00 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')]
2019-02-20 17:46:00,173 APIUnittestTestCase.py[line: 183] INFO: 服务器返回结果"状态码(code)": 200
2019-02-20 17:46:00,174 APIUnittestTestCase.py[line: 186] INFO: 正在提取目标返回结果值
2019-02-20 17:46:00,174 APIUnittestTestCase.py[line: 189] INFO: 正在执行断言
2019-02-20 17:46:00,174 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-20 17:46:00,174 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:46:00,175 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 17:46:00,175 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-20 17:46:00,175 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-20 17:46:00,176 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:46:00,176 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:46:00,176 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:46:36,207 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:46:36,208 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:46:36,208 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:46:36,209 main.py[line: 67] INFO: 调试模式
2019-02-20 17:46:39,806 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:46:39,807 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:46:39,807 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:46:39,824 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:46:39,825 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:46:39,840 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:46:39,841 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:46:39,854 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:46:39,855 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:46:39,855 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:46:39,866 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:46:39,877 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:46:39,878 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:46:39,878 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:46:39,878 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:46:39,895 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:46:39,896 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:46:39,896 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:46:39,896 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:46:39,896 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:46:39,897 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:46:39,897 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:46:39,897 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321'}
2019-02-20 17:46:39,897 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:46:39,898 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:46:39,898 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:46:39,898 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321'}
2019-02-20 17:46:39,898 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:46:39,898 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:46:39,899 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:46:39,899 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321'}
2019-02-20 17:46:39,899 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:46:39,899 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:46:39,900 APIUnittestTestCase.py[line: 122] INFO: <class 'dict'>
2019-02-20 17:46:39,900 APIUnittestTestCase.py[line: 124] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 17:46:39,900 APIUnittestTestCase.py[line: 135] INFO: {"userId": "17817738178", "templateCode": "TESTCODE-VALIDATE-CODE", "accessId": "o17O12xf", "templateParam": {"smsVerifyCode": 654321}, "accessToken": "a950ca7a32104ebfba5ba214101fe66e"}
2019-02-20 17:46:39,901 APIUnittestTestCase.py[line: 137] INFO: {"userId":"17817738178","templateCode":"TESTCODE-VALIDATE-CODE","accessId":"o17O12xf","templateParam":{"smsVerifyCode":654321},"accessToken":"a950ca7a32104ebfba5ba214101fe66e"}
2019-02-20 17:46:39,901 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:46:39,901 httpprotocol.py[line: 105] INFO: 请求参数为：b'{"userId":"17817738178","templateCode":"TESTCODE-VALIDATE-CODE","accessId":"o17O12xf","templateParam":{"smsVerifyCode":654321},"accessToken":"a950ca7a32104ebfba5ba214101fe66e"}'
2019-02-20 17:46:39,901 httpprotocol.py[line: 106] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-20 17:46:39,942 APIUnittestTestCase.py[line: 146] INFO: [b'{"requestId":"7136f040ed0747cb96f0a9653f3168ad","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 17:46:39","version":null,"obj":null}', [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 09:46:39 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')], 200]
2019-02-20 17:46:39,942 APIUnittestTestCase.py[line: 154] INFO: 正在对服务器返回body进行解码
2019-02-20 17:46:39,946 APIUnittestTestCase.py[line: 181] INFO: 服务器返回结果"响应体(body)": {"requestId":"7136f040ed0747cb96f0a9653f3168ad","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 17:46:39","version":null,"obj":null}
2019-02-20 17:46:39,946 APIUnittestTestCase.py[line: 182] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 09:46:39 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')]
2019-02-20 17:46:39,946 APIUnittestTestCase.py[line: 183] INFO: 服务器返回结果"状态码(code)": 200
2019-02-20 17:46:39,947 APIUnittestTestCase.py[line: 186] INFO: 正在提取目标返回结果值
2019-02-20 17:46:39,947 APIUnittestTestCase.py[line: 189] INFO: 正在执行断言
2019-02-20 17:46:39,947 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-20 17:46:39,947 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:46:39,947 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321'}
2019-02-20 17:46:39,948 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-20 17:46:39,948 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-20 17:46:39,948 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:46:39,949 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:46:39,949 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 17:47:24,645 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 17:47:24,646 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 17:47:24,646 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 17:47:24,646 main.py[line: 67] INFO: 调试模式
2019-02-20 17:47:26,153 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 17:47:26,154 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 17:47:26,155 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 17:47:26,168 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 17:47:26,169 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 17:47:26,182 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 17:47:26,183 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 17:47:26,196 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 17:47:26,196 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 17:47:26,196 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 17:47:26,207 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 17:47:26,218 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 17:47:26,219 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 17:47:26,219 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 17:47:26,219 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 17:47:26,238 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 17:47:26,238 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 17:47:26,239 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 17:47:26,239 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 17:47:26,239 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 17:47:26,239 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 17:47:26,240 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:47:26,240 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178'}
2019-02-20 17:47:26,240 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 17:47:26,240 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 17:47:26,241 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:47:26,241 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178'}
2019-02-20 17:47:26,241 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 17:47:26,241 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 17:47:26,241 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 17:47:26,242 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178'}
2019-02-20 17:47:26,242 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 17:47:26,243 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 17:47:26,243 APIUnittestTestCase.py[line: 122] INFO: <class 'dict'>
2019-02-20 17:47:26,244 APIUnittestTestCase.py[line: 124] INFO: {"templateParam": {"smsVerifyCode": 654321}, "accessId": "o17O12xf", "accessToken": "a950ca7a32104ebfba5ba214101fe66e", "userId": "17817738178", "templateCode": "TESTCODE-VALIDATE-CODE"}
2019-02-20 17:47:26,244 APIUnittestTestCase.py[line: 135] INFO: "{\"templateParam\": {\"smsVerifyCode\": 654321}, \"accessId\": \"o17O12xf\", \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\", \"userId\": \"17817738178\", \"templateCode\": \"TESTCODE-VALIDATE-CODE\"}"
2019-02-20 17:47:26,244 APIUnittestTestCase.py[line: 137] INFO: "{\"templateParam\":{\"smsVerifyCode\":654321},\"accessId\":\"o17O12xf\",\"accessToken\":\"a950ca7a32104ebfba5ba214101fe66e\",\"userId\":\"17817738178\",\"templateCode\":\"TESTCODE-VALIDATE-CODE\"}"
2019-02-20 17:47:26,244 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 17:47:26,244 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\"templateParam\\":{\\"smsVerifyCode\\":654321},\\"accessId\\":\\"o17O12xf\\",\\"accessToken\\":\\"a950ca7a32104ebfba5ba214101fe66e\\",\\"userId\\":\\"17817738178\\",\\"templateCode\\":\\"TESTCODE-VALIDATE-CODE\\"}"'
2019-02-20 17:47:26,245 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-20 17:47:26,286 APIUnittestTestCase.py[line: 146] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 17:47:26,287 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 17:47:26,287 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 17:47:26,288 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 18:00:03,421 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 18:00:03,422 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 18:00:03,422 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 18:00:03,422 main.py[line: 67] INFO: 调试模式
2019-02-20 18:00:04,849 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 18:00:04,850 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 18:00:04,851 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 18:00:04,871 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 18:00:04,872 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 18:00:04,885 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 18:00:04,885 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 18:00:04,898 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 18:00:04,898 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 18:00:04,898 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 18:00:04,910 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 18:00:04,921 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 18:00:04,922 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 18:00:04,922 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 18:00:04,922 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 18:00:04,939 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 18:00:04,940 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 18:00:04,940 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 18:00:04,940 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 18:00:04,941 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 18:00:04,941 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 18:00:04,941 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:00:04,941 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 18:00:04,942 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 18:00:04,942 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 18:00:04,942 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:00:04,942 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 18:00:04,942 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 18:00:04,943 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 18:00:04,943 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:00:04,943 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 18:00:04,943 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 18:00:04,944 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 18:00:04,944 APIUnittestTestCase.py[line: 122] INFO: {
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 18:00:04,944 APIUnittestTestCase.py[line: 124] INFO: "{\n  \"userId\": \"17817738178\",\n  \"templateCode\": \"TESTCODE-VALIDATE-CODE\",\n  \"templateParam\": {\n    \"smsVerifyCode\": 654321\n  },\n  \"accessId\": \"o17O12xf\",\n  \"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\"\n}"
2019-02-20 18:00:04,944 APIUnittestTestCase.py[line: 135] INFO: "\"{\\n  \\\"userId\\\": \\\"17817738178\\\",\\n  \\\"templateCode\\\": \\\"TESTCODE-VALIDATE-CODE\\\",\\n  \\\"templateParam\\\": {\\n    \\\"smsVerifyCode\\\": 654321\\n  },\\n  \\\"accessId\\\": \\\"o17O12xf\\\",\\n  \\\"accessToken\\\": \\\"a950ca7a32104ebfba5ba214101fe66e\\\"\\n}\""
2019-02-20 18:00:04,944 APIUnittestTestCase.py[line: 137] INFO: "\"{\\\\"userId\\\":\\\"17817738178\\\",\\\\"templateCode\\\":\\\"TESTCODE-VALIDATE-CODE\\\",\\\\"templateParam\\\":{\\\\"smsVerifyCode\\\":654321\},\\\\"accessId\\\":\\\"o17O12xf\\\",\\\\"accessToken\\\":\\\"a950ca7a32104ebfba5ba214101fe66e\\\"\}\""
2019-02-20 18:00:04,945 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 18:00:04,945 httpprotocol.py[line: 105] INFO: 请求参数为：b'"\\"{\\\\\\\\"userId\\\\\\":\\\\\\"17817738178\\\\\\",\\\\\\\\"templateCode\\\\\\":\\\\\\"TESTCODE-VALIDATE-CODE\\\\\\",\\\\\\\\"templateParam\\\\\\":{\\\\\\\\"smsVerifyCode\\\\\\":654321\\},\\\\\\\\"accessId\\\\\\":\\\\\\"o17O12xf\\\\\\",\\\\\\\\"accessToken\\\\\\":\\\\\\"a950ca7a32104ebfba5ba214101fe66e\\\\\\"\\}\\""'
2019-02-20 18:00:04,946 httpprotocol.py[line: 106] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-20 18:00:05,018 APIUnittestTestCase.py[line: 146] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 18:00:05,019 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 18:00:05,019 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 18:00:05,019 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 18:01:09,182 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 18:01:09,183 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 18:01:09,183 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 18:01:09,183 main.py[line: 67] INFO: 调试模式
2019-02-20 18:01:15,531 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 18:01:15,532 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 18:01:15,533 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 18:01:15,555 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 18:01:15,555 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 18:01:15,569 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 18:01:15,569 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 18:01:15,583 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 18:01:15,584 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 18:01:15,584 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 18:01:15,595 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 18:01:15,606 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 18:01:15,607 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 18:01:15,607 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 18:01:15,607 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 18:01:15,624 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 18:01:15,624 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 18:01:15,625 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 18:01:15,625 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 18:01:15,626 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 18:01:15,626 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 18:01:15,626 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:01:15,626 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 18:01:15,627 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 18:01:15,627 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 18:01:15,627 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:01:15,627 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 18:01:15,627 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 18:01:15,628 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 18:01:15,628 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:01:15,628 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 18:01:15,628 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 18:01:15,629 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 18:01:15,629 APIUnittestTestCase.py[line: 124] INFO: {"accessToken": "a950ca7a32104ebfba5ba214101fe66e", "userId": "17817738178", "templateParam": {"smsVerifyCode": 654321}, "accessId": "o17O12xf", "templateCode": "TESTCODE-VALIDATE-CODE"}
2019-02-20 18:01:15,629 APIUnittestTestCase.py[line: 135] INFO: "{\"accessToken\": \"a950ca7a32104ebfba5ba214101fe66e\", \"userId\": \"17817738178\", \"templateParam\": {\"smsVerifyCode\": 654321}, \"accessId\": \"o17O12xf\", \"templateCode\": \"TESTCODE-VALIDATE-CODE\"}"
2019-02-20 18:01:15,630 APIUnittestTestCase.py[line: 137] INFO: "{\"accessToken\":\"a950ca7a32104ebfba5ba214101fe66e\",\"userId\":\"17817738178\",\"templateParam\":{\"smsVerifyCode\":654321},\"accessId\":\"o17O12xf\",\"templateCode\":\"TESTCODE-VALIDATE-CODE\"}"
2019-02-20 18:01:15,630 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 18:01:15,630 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\"accessToken\\":\\"a950ca7a32104ebfba5ba214101fe66e\\",\\"userId\\":\\"17817738178\\",\\"templateParam\\":{\\"smsVerifyCode\\":654321},\\"accessId\\":\\"o17O12xf\\",\\"templateCode\\":\\"TESTCODE-VALIDATE-CODE\\"}"'
2019-02-20 18:01:15,630 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-20 18:01:15,669 APIUnittestTestCase.py[line: 146] INFO: [None, 'HTTP Error 400: Bad Request']
2019-02-20 18:01:15,669 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 18:01:15,670 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 18:01:15,670 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 18:01:49,557 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 18:01:49,558 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 18:01:49,558 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 18:01:49,558 main.py[line: 67] INFO: 调试模式
2019-02-20 18:01:50,890 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 18:01:50,891 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 18:01:50,892 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 18:01:50,914 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 18:01:50,914 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 18:01:50,929 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 18:01:50,930 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 18:01:50,943 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 18:01:50,943 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 18:01:50,944 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 18:01:50,954 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 18:01:50,965 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 18:01:50,965 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 18:01:50,965 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 18:01:50,966 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 18:01:50,982 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 18:01:50,983 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 18:01:50,983 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 18:01:50,983 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 18:01:50,983 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 18:01:50,984 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 18:01:50,984 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:01:50,984 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 18:01:50,984 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 18:01:50,985 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 18:01:50,985 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:01:50,985 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 18:01:50,985 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 18:01:50,985 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 18:01:50,986 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:01:50,986 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 18:01:50,986 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 18:01:50,986 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 18:01:50,987 APIUnittestTestCase.py[line: 124] INFO: {"templateParam": {"smsVerifyCode": 654321}, "accessId": "o17O12xf", "accessToken": "a950ca7a32104ebfba5ba214101fe66e", "templateCode": "TESTCODE-VALIDATE-CODE", "userId": "17817738178"}
2019-02-20 18:01:50,987 APIUnittestTestCase.py[line: 135] INFO: {"templateParam":{"smsVerifyCode":654321},"accessId":"o17O12xf","accessToken":"a950ca7a32104ebfba5ba214101fe66e","templateCode":"TESTCODE-VALIDATE-CODE","userId":"17817738178"}
2019-02-20 18:01:50,987 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 18:01:50,987 httpprotocol.py[line: 105] INFO: 请求参数为：b'{"templateParam":{"smsVerifyCode":654321},"accessId":"o17O12xf","accessToken":"a950ca7a32104ebfba5ba214101fe66e","templateCode":"TESTCODE-VALIDATE-CODE","userId":"17817738178"}'
2019-02-20 18:01:50,988 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-20 18:01:51,029 APIUnittestTestCase.py[line: 144] INFO: [b'{"requestId":"74323d0049a5427db5dbd63ae9e22e75","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 18:01:51","version":null,"obj":null}', [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 10:01:51 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-8')], 200]
2019-02-20 18:01:51,030 APIUnittestTestCase.py[line: 152] INFO: 正在对服务器返回body进行解码
2019-02-20 18:01:51,033 APIUnittestTestCase.py[line: 179] INFO: 服务器返回结果"响应体(body)": {"requestId":"74323d0049a5427db5dbd63ae9e22e75","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 18:01:51","version":null,"obj":null}
2019-02-20 18:01:51,034 APIUnittestTestCase.py[line: 180] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 10:01:51 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-8')]
2019-02-20 18:01:51,034 APIUnittestTestCase.py[line: 181] INFO: 服务器返回结果"状态码(code)": 200
2019-02-20 18:01:51,034 APIUnittestTestCase.py[line: 184] INFO: 正在提取目标返回结果值
2019-02-20 18:01:51,034 APIUnittestTestCase.py[line: 187] INFO: 正在执行断言
2019-02-20 18:01:51,034 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-20 18:01:51,035 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:01:51,035 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 18:01:51,035 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-20 18:01:51,036 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-20 18:01:51,036 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 18:01:51,037 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 18:01:51,037 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 18:13:34,956 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 18:13:34,957 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 18:13:34,957 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 18:13:34,957 main.py[line: 67] INFO: 调试模式
2019-02-20 18:13:36,304 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 18:13:36,305 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 18:13:36,305 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 18:13:36,326 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 18:13:36,326 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 18:13:36,340 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 18:13:36,341 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 18:13:36,355 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 18:13:36,356 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 18:13:36,356 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 18:13:36,367 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 18:13:36,378 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 18:13:36,379 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 18:13:36,379 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 18:13:36,379 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 18:13:36,396 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 18:13:36,397 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 18:13:36,397 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 18:13:36,397 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 18:13:36,398 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 18:13:36,398 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 18:13:36,398 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:13:36,398 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 18:13:36,399 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 18:13:36,399 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 18:13:36,399 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:13:36,399 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 18:13:36,399 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 18:13:36,400 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 18:13:36,400 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:13:36,400 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 18:13:36,400 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 18:13:36,401 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 18:13:36,401 APIUnittestTestCase.py[line: 124] INFO: {
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 18:13:36,402 APIUnittestTestCase.py[line: 135] INFO: {
"userId":"17817738178",
"templateCode":"TESTCODE-VALIDATE-CODE",
"templateParam":{
"smsVerifyCode":654321
},
"accessId":"o17O12xf",
"accessToken":"a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 18:13:36,402 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 18:13:36,402 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n"userId":"17817738178",\n"templateCode":"TESTCODE-VALIDATE-CODE",\n"templateParam":{\n"smsVerifyCode":654321\n},\n"accessId":"o17O12xf",\n"accessToken":"a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-20 18:13:36,402 httpprotocol.py[line: 106] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-20 18:13:36,453 APIUnittestTestCase.py[line: 144] INFO: [b'{"requestId":"6a7ea90f1c0a42e78dfb27c16e6cd6eb","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 18:13:36","version":null,"obj":null}', [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 10:13:36 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')], 200]
2019-02-20 18:13:36,454 APIUnittestTestCase.py[line: 152] INFO: 正在对服务器返回body进行解码
2019-02-20 18:13:36,457 APIUnittestTestCase.py[line: 179] INFO: 服务器返回结果"响应体(body)": {"requestId":"6a7ea90f1c0a42e78dfb27c16e6cd6eb","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 18:13:36","version":null,"obj":null}
2019-02-20 18:13:36,458 APIUnittestTestCase.py[line: 180] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 10:13:36 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')]
2019-02-20 18:13:36,458 APIUnittestTestCase.py[line: 181] INFO: 服务器返回结果"状态码(code)": 200
2019-02-20 18:13:36,458 APIUnittestTestCase.py[line: 184] INFO: 正在提取目标返回结果值
2019-02-20 18:13:36,458 APIUnittestTestCase.py[line: 187] INFO: 正在执行断言
2019-02-20 18:13:36,458 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-20 18:13:36,459 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:13:36,459 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_smsverifycode': '654321', 'global_accessid': 'o17O12xf'}
2019-02-20 18:13:36,459 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-20 18:13:36,459 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-20 18:13:36,460 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 18:13:36,460 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 18:13:36,460 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 18:35:50,411 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 18:35:50,411 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 18:35:50,412 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 18:35:50,412 main.py[line: 67] INFO: 调试模式
2019-02-20 18:36:01,973 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 18:36:01,974 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 18:36:01,975 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 18:36:01,989 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 18:36:01,989 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 18:36:02,005 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 18:36:02,005 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 18:36:02,020 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 18:36:02,021 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 18:36:02,021 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 18:36:02,035 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 18:36:02,047 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 18:36:02,048 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 18:36:02,048 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 18:36:02,048 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 18:36:02,069 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 18:36:02,069 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 18:36:02,069 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 18:36:02,070 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 18:36:02,070 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 18:36:02,070 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 18:36:02,071 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:36:02,071 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 18:36:02,071 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 18:36:02,071 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 18:36:02,072 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:36:02,072 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 18:36:02,072 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 18:36:02,072 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 18:36:02,073 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:36:02,073 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 18:36:02,073 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 18:36:02,074 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 18:36:02,074 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 18:36:02,074 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {\n    "smsVerifyCode": 654321\n  },\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-20 18:36:02,075 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-20 18:36:02,295 APIUnittestTestCase.py[line: 129] INFO: [b'{"requestId":"438849ce7aba4634878b7615ba37642e","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 18:36:02","version":null,"obj":null}', [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 10:36:02 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')], 200]
2019-02-20 18:36:02,296 APIUnittestTestCase.py[line: 137] INFO: 正在对服务器返回body进行解码
2019-02-20 18:36:02,301 APIUnittestTestCase.py[line: 164] INFO: 服务器返回结果"响应体(body)": {"requestId":"438849ce7aba4634878b7615ba37642e","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 18:36:02","version":null,"obj":null}
2019-02-20 18:36:02,301 APIUnittestTestCase.py[line: 165] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 10:36:02 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')]
2019-02-20 18:36:02,302 APIUnittestTestCase.py[line: 166] INFO: 服务器返回结果"状态码(code)": 200
2019-02-20 18:36:02,302 APIUnittestTestCase.py[line: 169] INFO: 正在提取目标返回结果值
2019-02-20 18:36:02,302 APIUnittestTestCase.py[line: 172] INFO: 正在执行断言
2019-02-20 18:36:02,302 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-20 18:36:02,303 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:36:02,303 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessid': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321'}
2019-02-20 18:36:02,303 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-20 18:36:02,304 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-20 18:36:02,304 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 18:36:02,305 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 18:36:02,305 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 18:46:31,996 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 18:46:31,998 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 18:46:31,999 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 18:46:32,000 main.py[line: 67] INFO: 调试模式
2019-02-20 18:46:58,710 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 18:46:58,728 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 18:46:58,730 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 18:46:58,768 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 18:46:58,769 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 18:46:58,788 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 18:46:58,789 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 18:46:58,811 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 18:46:58,813 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 18:46:58,814 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 18:46:58,828 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 18:46:58,842 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 18:46:58,844 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 18:46:58,846 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 18:46:58,847 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 18:46:58,869 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 18:46:58,870 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 18:46:58,871 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 18:46:58,872 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 18:46:58,873 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 18:46:58,875 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 18:46:58,877 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:46:58,878 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 18:46:58,879 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 18:46:58,880 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 18:46:58,881 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:46:58,882 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 18:46:58,883 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 18:46:58,884 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 18:46:58,885 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:46:58,886 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-20 18:46:58,887 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 18:46:58,889 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 18:46:58,890 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 18:46:58,892 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\n  \\"userId\\": \\"17817738178\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": 654321\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 18:46:58,893 httpprotocol.py[line: 106] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-20 18:46:58,970 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 18:46:58,971 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 18:46:58,974 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 18:47:30,803 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 18:47:30,804 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 18:47:30,805 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 18:47:30,805 main.py[line: 67] INFO: 调试模式
2019-02-20 18:47:33,016 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 18:47:33,016 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 18:47:33,016 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 18:47:33,017 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 18:47:33,017 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 18:47:33,023 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 18:47:33,024 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 18:47:33,039 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 18:47:33,040 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 18:47:33,040 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 18:47:33,052 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 18:47:33,068 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 18:47:33,068 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 18:47:33,068 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 18:47:33,069 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 18:47:33,090 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 18:47:33,090 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 18:47:33,091 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 18:47:33,091 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 18:47:33,091 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 18:47:33,091 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 18:47:33,092 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:47:33,092 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf'}
2019-02-20 18:47:33,092 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 18:47:33,092 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 18:47:33,093 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:47:33,093 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf'}
2019-02-20 18:47:33,093 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 18:47:33,094 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 18:47:33,094 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 18:47:33,094 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf'}
2019-02-20 18:47:33,094 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 18:47:33,095 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 18:47:33,095 httpprotocol.py[line: 105] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 18:47:33,095 httpprotocol.py[line: 106] INFO: 请求参数为：b'"{\\n  \\"userId\\": \\"17817738178\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": 654321\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 18:47:33,096 httpprotocol.py[line: 107] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-20 18:47:33,134 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 18:47:33,134 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 18:47:33,134 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 19:00:34,973 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 19:00:34,974 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 19:00:34,975 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 19:00:34,975 main.py[line: 67] INFO: 调试模式
2019-02-20 19:00:37,558 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 19:00:37,559 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 19:00:37,560 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 19:00:37,576 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 19:00:37,577 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 19:00:37,591 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 19:00:37,591 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 19:00:37,605 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 19:00:37,606 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 19:00:37,606 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 19:00:37,617 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 19:00:37,628 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 19:00:37,628 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 19:00:37,628 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 19:00:37,628 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 19:00:37,649 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 19:00:37,650 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 19:00:37,650 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 19:00:37,650 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 19:00:37,650 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 19:00:37,651 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 19:00:37,651 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 19:00:37,651 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321'}
2019-02-20 19:00:37,652 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 19:00:37,652 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 19:00:37,652 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 19:00:37,653 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321'}
2019-02-20 19:00:37,653 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 19:00:37,654 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 19:00:37,654 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 19:00:37,654 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321'}
2019-02-20 19:00:37,654 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 19:00:37,655 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 19:00:37,655 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 19:00:37,655 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {\n    "smsVerifyCode": 654321\n  },\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-20 19:00:37,655 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-20 19:00:37,710 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-20 19:00:37,714 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"64982cf696644292a5126e706703d496","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-20 19:00:37","version":null,"obj":null}
2019-02-20 19:00:37,714 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Wed, 20 Feb 2019 11:00:37 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-4')]
2019-02-20 19:00:37,714 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-20 19:00:37,714 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-20 19:00:37,715 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-20 19:00:37,715 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-20 19:00:37,715 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 19:00:37,715 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321'}
2019-02-20 19:00:37,715 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-20 19:00:37,716 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-20 19:00:37,716 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 19:00:37,717 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 19:00:37,717 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 19:00:48,333 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 19:00:48,334 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 19:00:48,335 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 19:00:48,335 main.py[line: 67] INFO: 调试模式
2019-02-20 19:00:49,042 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 19:00:49,042 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 19:00:49,042 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 19:00:49,055 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 19:00:49,056 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 19:00:49,068 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 19:00:49,070 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 19:00:49,085 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 19:00:49,086 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 19:00:49,086 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 19:00:49,097 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 19:00:49,107 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 19:00:49,108 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 19:00:49,108 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 19:00:49,108 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 19:00:49,125 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 19:00:49,125 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 19:00:49,126 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 19:00:49,126 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 19:00:49,126 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 19:00:49,126 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 19:00:49,127 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 19:00:49,127 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 19:00:49,127 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 19:00:49,127 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 19:00:49,127 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 19:00:49,128 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 19:00:49,128 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 19:00:49,128 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 19:00:49,128 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 19:00:49,128 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessid': 'o17O12xf', 'global_smsverifycode': '654321', 'global_mobile': '17817738178', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 19:00:49,129 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 19:00:49,129 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 19:00:49,129 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 19:00:49,130 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\n  \\"userId\\": \\"17817738178\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": 654321\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 19:00:49,130 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-20 19:00:49,158 httpprotocol.py[line: 121] ERROR: 发送请求失败，原因：HTTP Error 400: Bad Request,正在进行第1次尝试
2019-02-20 19:00:49,194 httpprotocol.py[line: 121] ERROR: 发送请求失败，原因：HTTP Error 400: Bad Request,正在进行第2次尝试
2019-02-20 19:00:49,197 test_case.py[line: 86] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-20 19:00:49,197 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 19:00:49,198 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 19:00:49,198 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-20 19:01:13,548 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-20 19:01:13,549 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-20 19:01:13,549 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-20 19:01:13,549 main.py[line: 67] INFO: 调试模式
2019-02-20 19:01:15,196 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-20 19:01:15,197 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-20 19:01:15,197 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-20 19:01:15,211 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-20 19:01:15,211 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-20 19:01:15,224 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-20 19:01:15,224 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-20 19:01:15,238 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-20 19:01:15,239 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-20 19:01:15,239 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-20 19:01:15,251 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-20 19:01:15,263 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-20 19:01:15,263 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-20 19:01:15,264 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-20 19:01:15,264 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-20 19:01:15,281 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-20 19:01:15,282 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-20 19:01:15,282 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-20 19:01:15,283 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-20 19:01:15,283 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-20 19:01:15,283 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-20 19:01:15,283 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 19:01:15,284 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 19:01:15,284 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {
    "smsVerifyCode": 654321
  },
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-20 19:01:15,284 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-20 19:01:15,285 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 19:01:15,285 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 19:01:15,285 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-20 19:01:15,285 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-20 19:01:15,286 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 19:01:15,286 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 19:01:15,286 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-20 19:01:15,287 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-20 19:01:15,287 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-20 19:01:15,288 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\n  \\"userId\\": \\"17817738178\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\n    \\"smsVerifyCode\\": 654321\\n  },\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-20 19:01:15,288 httpprotocol.py[line: 106] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-20 19:01:15,318 httpprotocol.py[line: 121] ERROR: 发送请求失败，原因：HTTP Error 400: Bad Request,正在进行第1次尝试
2019-02-20 19:01:15,333 httpprotocol.py[line: 121] ERROR: 发送请求失败，原因：HTTP Error 400: Bad Request,正在进行第2次尝试
2019-02-20 19:01:15,333 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-20 19:01:15,334 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-20 19:01:15,334 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-20 19:01:15,334 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-20 19:01:15,335 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsverifycode': '654321', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accesstoken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessid': 'o17O12xf', 'global_smstemplatecode': 'TESTCODE-VALIDATE-CODE'}
2019-02-20 19:01:15,335 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-20 19:01:15,335 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-20 19:01:15,370 test_case.py[line: 86] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-20 19:01:15,370 debug.py[line: 122] INFO: 正在释放资源
2019-02-20 19:01:15,370 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-20 19:01:15,371 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-21 13:49:59,356 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 13:49:59,387 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-21 13:49:59,388 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-21 13:49:59,388 main.py[line: 67] INFO: 调试模式
2019-02-21 13:50:00,783 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-21 13:50:00,783 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-21 13:50:00,783 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 13:50:00,798 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-21 13:50:00,798 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-21 13:50:00,811 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-21 13:50:00,811 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-21 13:50:00,825 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-21 13:50:00,825 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-21 13:50:00,825 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-21 13:50:00,836 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-21 13:50:00,847 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-21 13:50:00,847 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 13:50:00,847 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 13:50:00,848 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 13:50:00,866 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 13:50:00,866 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 13:50:00,866 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 13:50:00,866 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 13:50:00,866 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 13:50:00,867 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 13:50:00,884 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 13:50:00,884 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-21 13:50:00,884 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 13:50:00,884 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 13:50:00,885 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 13:50:00,885 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 13:50:00,885 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 13:50:00,885 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 13:50:00,885 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 13:50:00,886 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 13:50:00,886 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-21 13:50:00,886 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 13:50:00,886 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 13:50:00,887 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 13:50:00,887 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-21 13:50:00,887 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 13:50:00,888 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 13:50:00,888 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 13:50:00,888 httpprotocol.py[line: 105] INFO: 请求参数为：b'"{\\n  \\"userId\\": \\"17817738178\\",\\n  \\"templateCode\\": \\"TESTCODE-VALIDATE-CODE\\",\\n  \\"templateParam\\": {\\"smsVerifyCode\\":654321},\\n  \\"accessId\\": \\"o17O12xf\\",\\n  \\"accessToken\\": \\"a950ca7a32104ebfba5ba214101fe66e\\"\\n}"'
2019-02-21 13:50:00,888 httpprotocol.py[line: 106] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-21 13:50:00,921 httpprotocol.py[line: 121] ERROR: 发送请求失败，原因：HTTP Error 400: Bad Request,正在进行第1次尝试
2019-02-21 13:50:00,934 httpprotocol.py[line: 121] ERROR: 发送请求失败，原因：HTTP Error 400: Bad Request,正在进行第2次尝试
2019-02-21 13:50:00,935 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 13:50:00,935 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 13:50:00,935 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 13:50:00,936 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 13:50:00,936 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-21 13:50:00,936 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 13:50:00,936 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 13:50:00,963 test_case.py[line: 86] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-21 13:50:00,963 debug.py[line: 122] INFO: 正在释放资源
2019-02-21 13:50:00,963 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-21 13:50:00,963 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-21 13:50:47,487 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 13:50:47,487 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-21 13:50:47,488 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-21 13:50:47,488 main.py[line: 67] INFO: 调试模式
2019-02-21 13:50:49,967 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-21 13:50:49,968 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-21 13:50:49,969 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 13:50:49,986 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-21 13:50:49,987 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-21 13:50:50,004 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-21 13:50:50,005 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-21 13:50:50,023 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-21 13:50:50,023 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-21 13:50:50,023 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-21 13:50:50,042 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-21 13:50:50,060 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-21 13:50:50,061 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 13:50:50,061 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 13:50:50,061 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 13:50:50,084 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 13:50:50,085 test_case.py[line: 82] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 13:50:50,085 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 13:50:50,085 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 13:50:50,086 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 13:50:50,086 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 13:50:50,086 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 13:50:50,086 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 13:50:50,087 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 13:50:50,087 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 13:50:50,087 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 13:50:50,087 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 13:50:50,087 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 13:50:50,088 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 13:50:50,088 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 13:50:50,088 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 13:50:50,088 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 13:50:50,089 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 13:50:50,089 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 13:50:50,089 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 13:50:50,089 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 13:50:50,090 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 13:50:50,090 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 13:50:50,090 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 13:50:50,090 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 13:50:50,091 httpprotocol.py[line: 106] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-21 13:50:50,131 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 13:50:50,148 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"cf01ed2151964838bc2c0d8ca389d75d","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 13:50:51","version":null,"obj":null}
2019-02-21 13:50:50,149 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 05:50:51 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')]
2019-02-21 13:50:50,149 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 13:50:50,149 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 13:50:50,149 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 13:50:50,150 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 13:50:50,150 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 13:50:50,150 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 13:50:50,150 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 13:50:50,151 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 13:50:50,151 debug.py[line: 122] INFO: 正在释放资源
2019-02-21 13:50:50,151 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-21 13:50:50,151 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-21 14:17:34,072 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 14:17:34,073 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-21 14:17:34,073 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-21 14:17:34,073 main.py[line: 67] INFO: 调试模式
2019-02-21 14:17:38,870 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-21 14:17:38,871 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-21 14:17:38,871 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 14:17:38,893 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-21 14:17:38,894 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-21 14:17:38,907 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-21 14:17:38,908 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-21 14:17:38,922 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-21 14:17:38,922 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-21 14:17:38,922 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-21 14:17:38,933 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-21 14:17:38,945 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-21 14:17:38,945 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 14:17:38,945 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 14:17:38,945 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 14:17:38,964 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 14:17:38,965 test_case.py[line: 84] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 14:17:38,965 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:17:38,965 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:17:38,965 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:17:38,966 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:17:38,966 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 14:17:38,966 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 14:17:38,967 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 14:17:38,967 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 14:17:38,967 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 14:17:38,967 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 14:17:38,967 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 14:17:38,968 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:17:38,968 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:17:38,969 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:17:38,969 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 14:17:38,969 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:17:38,969 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:17:38,970 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:17:38,970 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 14:17:38,970 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:17:38,970 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:17:38,971 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:17:38,971 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:17:38,971 httpprotocol.py[line: 106] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-21 14:17:39,021 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:17:39,029 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"12f491d87fed4593a5a7fb20b017ad31","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:17:40","version":null,"obj":null}
2019-02-21 14:17:39,030 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:17:40 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')]
2019-02-21 14:17:39,030 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:17:39,031 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:17:39,031 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:17:39,032 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:17:39,033 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:17:39,034 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 14:17:39,034 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 14:17:39,035 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 14:17:39,037 debug.py[line: 122] INFO: 正在释放资源
2019-02-21 14:17:39,037 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-21 14:17:39,038 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-21 14:22:01,081 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 14:22:01,082 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-21 14:22:01,082 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-21 14:22:01,082 main.py[line: 67] INFO: 调试模式
2019-02-21 14:22:04,144 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-21 14:22:04,144 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-21 14:22:04,144 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 14:22:04,158 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-21 14:22:04,159 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-21 14:22:04,172 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-21 14:22:04,173 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-21 14:22:04,187 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-21 14:22:04,187 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-21 14:22:04,187 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-21 14:22:04,199 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-21 14:22:04,209 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-21 14:22:04,210 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 14:22:04,210 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 14:22:04,210 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 14:22:04,229 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 14:22:04,230 test_case.py[line: 84] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 14:22:04,230 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:22:04,230 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:22:04,231 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:22:04,231 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:22:04,231 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 14:22:04,232 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:22:04,232 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 14:22:04,232 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 14:22:04,232 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 14:22:04,232 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 14:22:04,233 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 14:22:04,233 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:22:04,233 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:22:04,233 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:22:04,233 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:22:04,234 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:22:04,234 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:22:04,234 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:22:04,235 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:22:04,235 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:22:04,235 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:22:04,236 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:22:04,236 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:22:04,236 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:22:04,275 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:22:04,278 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"63ab9375b03b410da67a54deafb4787e","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:22:05","version":null,"obj":null}
2019-02-21 14:22:04,279 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:22:05 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-3')]
2019-02-21 14:22:04,279 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:22:04,279 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:22:04,280 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:22:04,280 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:22:04,280 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:22:04,280 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:22:04,280 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 14:22:04,281 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 14:22:04,281 test_case.py[line: 84] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 14:22:04,281 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:22:04,282 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:22:04,282 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:22:04,282 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:22:04,282 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 14:22:04,283 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:22:04,283 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 14:22:04,283 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 14:22:04,283 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 14:22:04,284 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 14:22:04,284 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 14:22:04,284 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:22:04,284 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:22:04,284 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:22:04,285 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:22:04,285 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:22:04,285 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:22:04,285 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:22:04,285 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:22:04,286 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:22:04,286 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:22:04,286 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:22:04,286 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:22:04,287 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:22:04,302 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:22:04,303 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"8c3d1695135040498b54e39191852da2","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:22:05","version":null,"obj":null}
2019-02-21 14:22:04,303 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:22:05 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-4')]
2019-02-21 14:22:04,304 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:22:04,304 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:22:04,304 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:22:04,304 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:22:04,304 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:22:04,305 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:22:04,305 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 14:22:04,305 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 14:22:04,306 debug.py[line: 122] INFO: 正在释放资源
2019-02-21 14:22:04,306 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-21 14:22:04,306 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-21 14:22:58,219 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 14:22:58,221 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-21 14:22:58,222 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-21 14:22:58,223 main.py[line: 67] INFO: 调试模式
2019-02-21 14:22:58,642 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-21 14:22:58,643 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-21 14:22:58,644 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 14:22:58,660 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-21 14:22:58,661 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-21 14:22:58,676 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-21 14:22:58,677 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-21 14:22:58,700 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-21 14:22:58,701 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-21 14:22:58,702 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-21 14:22:58,716 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-21 14:22:58,729 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-21 14:22:58,730 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 14:22:58,731 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 14:22:58,733 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 14:22:58,759 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 14:23:53,643 test_case.py[line: 84] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 14:23:54,149 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:23:54,151 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:23:54,152 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:23:54,153 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:23:54,155 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 14:23:54,156 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:23:54,157 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 14:23:54,159 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 14:23:54,160 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 14:23:54,161 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 14:23:54,163 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 14:23:54,164 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:23:54,165 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:23:54,167 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:23:54,168 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:23:54,170 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:23:54,171 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:23:54,173 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:23:54,174 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:23:54,175 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:23:54,178 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:23:54,179 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:23:54,181 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:23:54,182 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:23:54,230 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:23:54,238 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"f80ef52b4a7d44f78b141a0d31dfe1ed","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:23:55","version":null,"obj":null}
2019-02-21 14:23:54,240 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:23:55 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-4')]
2019-02-21 14:23:54,241 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:23:54,242 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:23:54,243 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:23:54,245 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:23:54,247 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:23:54,248 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:23:54,249 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 14:23:54,250 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 14:24:00,271 test_case.py[line: 84] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 14:24:00,913 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:24:00,915 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:24:00,915 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:24:00,916 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:24:00,918 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 14:24:00,919 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:24:00,920 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 14:24:00,920 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 14:24:00,921 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 14:24:00,923 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 14:24:00,924 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 14:24:00,925 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:24:00,926 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:24:00,928 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:24:00,929 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:24:00,930 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:24:00,931 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:24:00,933 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:24:00,934 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:24:00,935 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:24:00,937 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:24:00,938 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:24:00,939 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:24:00,940 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:24:00,959 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:24:00,961 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"42b00ec657bb4461b4751a12cff63499","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:24:02","version":null,"obj":null}
2019-02-21 14:24:00,962 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:24:02 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-6')]
2019-02-21 14:24:00,963 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:24:00,963 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:24:00,964 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:24:00,965 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:24:00,966 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:24:00,967 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:24:00,968 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 14:24:00,969 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 14:24:20,207 debug.py[line: 122] INFO: 正在释放资源
2019-02-21 14:24:20,209 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-21 14:24:20,210 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-21 14:24:25,816 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 14:24:25,817 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-21 14:24:25,817 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-21 14:24:25,817 main.py[line: 67] INFO: 调试模式
2019-02-21 14:24:29,004 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-21 14:24:29,005 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-21 14:24:29,006 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 14:24:29,027 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-21 14:24:29,028 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-21 14:24:29,044 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-21 14:24:29,044 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-21 14:24:29,058 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-21 14:24:29,058 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-21 14:24:29,058 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-21 14:24:29,069 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-21 14:24:29,080 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-21 14:24:29,080 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 14:24:29,080 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 14:24:29,081 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 14:24:29,100 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 14:24:29,101 test_case.py[line: 84] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 14:24:29,101 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:24:29,101 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:24:29,102 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:24:29,102 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:24:29,102 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 14:24:29,103 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_mobile': '17817738178'}
2019-02-21 14:24:29,103 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 14:24:29,103 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 14:24:29,104 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 14:24:29,104 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 14:24:29,104 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 14:24:29,104 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:24:29,104 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:24:29,105 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:24:29,105 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_mobile': '17817738178'}
2019-02-21 14:24:29,105 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:24:29,105 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:24:29,106 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:24:29,106 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_mobile': '17817738178'}
2019-02-21 14:24:29,106 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:24:29,107 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:24:29,107 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:24:29,107 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:24:29,108 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:24:29,156 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:24:29,160 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"745f9ccf3923430b8aa896a8743bda07","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:24:30","version":null,"obj":null}
2019-02-21 14:24:29,160 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:24:30 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-2')]
2019-02-21 14:24:29,160 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:24:29,161 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:24:29,161 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:24:29,162 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:24:29,162 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:24:29,162 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_mobile': '17817738178'}
2019-02-21 14:24:29,162 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 14:24:29,163 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 14:24:29,163 test_case.py[line: 84] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 14:24:29,164 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:24:29,164 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:24:29,164 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:24:29,164 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:24:29,165 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 14:24:29,165 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_mobile': '17817738178'}
2019-02-21 14:24:29,165 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 14:24:29,165 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 14:24:29,165 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 14:24:29,166 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 14:24:29,166 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 14:24:29,166 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:24:29,166 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:24:29,167 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:24:29,167 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_mobile': '17817738178'}
2019-02-21 14:24:29,167 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:24:29,168 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:24:29,168 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:24:29,168 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_mobile': '17817738178'}
2019-02-21 14:24:29,169 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:24:29,169 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:24:29,169 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:24:29,170 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:24:29,170 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:24:29,188 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:24:29,189 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"6af41d7a8fa641cf905de7a2a718b889","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:24:30","version":null,"obj":null}
2019-02-21 14:24:29,189 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:24:30 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-3')]
2019-02-21 14:24:29,189 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:24:29,189 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:24:29,189 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:24:29,190 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:24:29,190 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:24:29,190 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_mobile': '17817738178'}
2019-02-21 14:24:29,190 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 14:24:29,191 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 14:24:29,191 debug.py[line: 122] INFO: 正在释放资源
2019-02-21 14:24:29,191 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-21 14:24:29,192 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-21 14:44:54,707 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 14:44:54,708 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-21 14:44:54,708 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-21 14:44:54,709 main.py[line: 67] INFO: 调试模式
2019-02-21 14:44:57,319 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-21 14:44:57,320 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-21 14:44:57,320 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 14:44:57,343 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-21 14:44:57,344 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-21 14:44:57,359 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-21 14:44:57,359 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-21 14:44:57,375 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-21 14:44:57,375 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-21 14:44:57,376 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-21 14:44:57,386 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-21 14:44:57,397 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-21 14:44:57,397 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 14:44:57,398 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 14:44:57,398 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 14:44:57,416 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 14:44:57,416 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 14:44:57,416 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:44:57,417 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:44:57,417 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:44:57,417 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:44:57,417 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 14:44:57,418 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:44:57,418 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 14:44:57,418 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 14:44:57,418 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 14:44:57,418 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 14:44:57,419 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 14:44:57,419 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:44:57,420 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:44:57,420 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:44:57,420 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:44:57,420 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:44:57,421 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:44:57,421 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:44:57,422 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:44:57,422 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:44:57,422 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:44:57,423 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:44:57,423 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:44:57,423 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:44:57,469 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:44:57,474 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"ddbb2511b14b4856bc2c537c6890dcf8","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:44:59","version":null,"obj":null}
2019-02-21 14:44:57,474 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:44:59 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')]
2019-02-21 14:44:57,475 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:44:57,475 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:44:57,475 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:44:57,475 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:44:57,475 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:44:57,476 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:44:57,476 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":tru1e",
    "消息": "fail#success不为True"
  }
]
2019-02-21 14:44:57,476 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":tru1e”
2019-02-21 14:44:57,480 test_case.py[line: 115] ERROR: local variable 'retry' referenced before assignment
2019-02-21 14:44:57,480 debug.py[line: 122] INFO: 正在释放资源
2019-02-21 14:44:57,481 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-21 14:44:57,481 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-21 14:47:49,814 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 14:47:49,815 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-21 14:47:49,815 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-21 14:47:49,815 main.py[line: 67] INFO: 调试模式
2019-02-21 14:47:54,421 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-21 14:47:54,422 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-21 14:47:54,422 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 14:47:54,435 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-21 14:47:54,436 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-21 14:47:54,452 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-21 14:47:54,452 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-21 14:47:54,467 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-21 14:47:54,468 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-21 14:47:54,468 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-21 14:47:54,480 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-21 14:47:54,491 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-21 14:47:54,492 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 14:47:54,492 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 14:47:54,492 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 14:47:54,512 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 14:47:54,513 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 14:47:54,513 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:47:54,513 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:47:54,514 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:47:54,514 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:47:54,514 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 14:47:54,515 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178'}
2019-02-21 14:47:54,515 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 14:47:54,516 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 14:47:54,516 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 14:47:54,516 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 14:47:54,516 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 14:47:54,516 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:47:54,517 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:47:54,517 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:47:54,517 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178'}
2019-02-21 14:47:54,517 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:47:54,518 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:47:54,518 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:47:54,518 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178'}
2019-02-21 14:47:54,518 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:47:54,519 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:47:54,519 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:47:54,519 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:47:54,519 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:47:54,569 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:47:54,573 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"7b78945fa95c4f9aa3cc482fc17643d5","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:47:56","version":null,"obj":null}
2019-02-21 14:47:54,573 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:47:56 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-9')]
2019-02-21 14:47:54,573 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:47:54,573 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:47:54,574 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:47:54,574 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:47:54,574 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:47:54,574 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178'}
2019-02-21 14:47:54,575 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":tru1e",
    "消息": "fail#success不为True"
  }
]
2019-02-21 14:47:54,575 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":tru1e”
2019-02-21 14:47:54,580 test_case.py[line: 117] ERROR: local variable 'test_case' referenced before assignment
2019-02-21 14:47:54,580 debug.py[line: 122] INFO: 正在释放资源
2019-02-21 14:47:54,580 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-21 14:47:54,581 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-21 14:49:34,134 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 14:49:34,135 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-21 14:49:34,135 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-21 14:49:34,136 main.py[line: 67] INFO: 调试模式
2019-02-21 14:49:36,145 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-21 14:49:36,146 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-21 14:49:36,147 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 14:49:36,165 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-21 14:49:36,166 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-21 14:49:36,183 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-21 14:49:36,184 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-21 14:49:36,197 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-21 14:49:36,197 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-21 14:49:36,198 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-21 14:49:36,208 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-21 14:49:36,218 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-21 14:49:36,218 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 14:49:36,218 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 14:49:36,218 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 14:49:36,237 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 14:49:36,237 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 14:49:36,237 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:49:36,238 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:49:36,238 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:49:36,238 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:49:36,238 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 14:49:36,239 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:49:36,239 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 14:49:36,239 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 14:49:36,239 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 14:49:36,239 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 14:49:36,240 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 14:49:36,240 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:49:36,241 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:49:36,241 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:49:36,241 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:49:36,241 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:49:36,242 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:49:36,242 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:49:36,242 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:49:36,242 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:49:36,243 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:49:36,243 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:49:36,243 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:49:36,244 httpprotocol.py[line: 106] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-21 14:49:36,294 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:49:36,298 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"eeeca5b7008345eaa3fcc05db754daf8","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:49:38","version":null,"obj":null}
2019-02-21 14:49:36,299 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:49:38 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-9')]
2019-02-21 14:49:36,299 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:49:36,299 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:49:36,299 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:49:36,299 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:49:36,300 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:49:36,300 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:49:36,300 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":tru1e",
    "消息": "fail#success不为True"
  }
]
2019-02-21 14:49:36,300 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":tru1e”
2019-02-21 14:49:36,304 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:49:36,305 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:49:36,305 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:49:36,305 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:49:36,305 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:49:36,305 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:49:36,306 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:49:36,306 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:49:36,306 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:49:36,306 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:49:36,306 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:49:36,307 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:49:36,307 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:49:36,307 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf'}
2019-02-21 14:49:36,307 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:49:36,308 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:49:36,308 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:49:36,308 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:49:36,308 httpprotocol.py[line: 106] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-21 14:49:36,325 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:49:36,326 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"bead526d739e4c69946d581776476569","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:49:38","version":null,"obj":null}
2019-02-21 14:49:36,326 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:49:38 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-2')]
2019-02-21 14:49:36,326 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:49:36,326 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:49:36,327 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:49:36,327 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:49:36,327 test_case_step.py[line: 67] ERROR: 替换动态变量出错：expected string or buffer
2019-02-21 14:49:36,329 test_case.py[line: 98] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败, 正在进行第 1 次重试
2019-02-21 14:49:36,329 test_case.py[line: 101] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-21 14:49:36,329 debug.py[line: 122] INFO: 正在释放资源
2019-02-21 14:49:36,329 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-21 14:49:36,329 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-21 14:50:52,077 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 14:50:52,079 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-21 14:50:52,080 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-21 14:50:52,081 main.py[line: 67] INFO: 调试模式
2019-02-21 14:50:54,520 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-21 14:50:54,522 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-21 14:50:54,523 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 14:50:54,540 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-21 14:50:54,542 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-21 14:50:54,559 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-21 14:50:54,560 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-21 14:50:54,583 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-21 14:50:54,584 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-21 14:50:54,585 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-21 14:50:54,600 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-21 14:50:54,613 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-21 14:50:54,614 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 14:50:54,616 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 14:50:54,617 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 14:50:54,642 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 14:51:03,098 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 14:51:03,441 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:51:03,443 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:51:03,443 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:51:03,445 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:51:03,447 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 14:51:03,448 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-21 14:51:03,449 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 14:51:03,449 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 14:51:03,450 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 14:51:03,451 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 14:51:03,452 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 14:51:03,453 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:51:03,454 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:51:03,455 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:51:03,456 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-21 14:51:03,458 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:51:03,459 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:51:03,460 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:51:03,462 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-21 14:51:03,463 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:51:03,465 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:51:03,466 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:51:03,467 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:51:03,468 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:51:03,530 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:51:03,536 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"1af8c15af1754a1cb16bf9a73fb8d894","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:51:05","version":null,"obj":null}
2019-02-21 14:51:03,537 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:51:05 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-3')]
2019-02-21 14:51:03,538 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:51:03,539 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:51:03,540 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:51:03,541 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:51:03,542 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:51:03,543 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-21 14:51:03,545 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":tru1e",
    "消息": "fail#success不为True"
  }
]
2019-02-21 14:54:35,711 unittesttestcase.py[line: 73] INFO: 校验规则为：“包含字符串："success":tru1e”
2019-02-21 14:54:35,737 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:54:35,740 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:54:35,742 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:54:35,743 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:54:35,744 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:54:35,745 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-21 14:54:35,747 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:54:35,748 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:54:35,750 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:54:35,751 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-21 14:54:35,753 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:54:35,754 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:54:35,755 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:54:35,757 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-21 14:54:35,758 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:54:35,761 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:54:35,762 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:54:35,764 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:54:35,765 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:54:35,801 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:54:35,802 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"5c898c6a81f94cb08c52252984dff2e5","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:54:37","version":null,"obj":null}
2019-02-21 14:54:35,803 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:54:37 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-2')]
2019-02-21 14:54:35,804 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:54:35,805 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:54:35,806 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:54:35,807 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:54:35,808 test_case_step.py[line: 67] ERROR: 替换动态变量出错：expected string or buffer
2019-02-21 14:54:35,813 test_case.py[line: 98] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败, 正在进行第 1 次重试
2019-02-21 14:54:35,815 test_case.py[line: 101] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-21 14:54:35,816 debug.py[line: 122] INFO: 正在释放资源
2019-02-21 14:54:35,817 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-21 14:54:35,818 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-21 14:54:41,166 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 14:54:41,167 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-21 14:54:41,167 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-21 14:54:41,167 main.py[line: 67] INFO: 调试模式
2019-02-21 14:54:48,177 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-21 14:54:48,177 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-21 14:54:48,178 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 14:54:48,191 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-21 14:54:48,192 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-21 14:54:48,205 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-21 14:54:48,205 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-21 14:54:48,218 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-21 14:54:48,218 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-21 14:54:48,219 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-21 14:54:48,230 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-21 14:54:48,240 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-21 14:54:48,241 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 14:54:48,242 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 14:54:48,242 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 14:54:48,262 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 14:54:48,263 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 14:54:48,263 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:54:48,263 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:54:48,263 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:54:48,264 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:54:48,264 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 14:54:48,264 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:54:48,265 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 14:54:48,265 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 14:54:48,265 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 14:54:48,265 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 14:54:48,266 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 14:54:48,266 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:54:48,266 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:54:48,266 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:54:48,267 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:54:48,267 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:54:48,267 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:54:48,267 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:54:48,268 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:54:48,268 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:54:48,268 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:54:48,269 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:54:48,269 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:54:48,269 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:54:48,312 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:54:48,315 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"5af812e96ca04e91827120a133bdb4bb","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:54:50","version":null,"obj":null}
2019-02-21 14:54:48,316 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:54:50 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-8')]
2019-02-21 14:54:48,316 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:54:48,316 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:54:48,316 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:54:48,317 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:54:48,317 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:54:48,317 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:54:48,317 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":tru1e",
    "消息": "fail#success不为True"
  }
]
2019-02-21 14:54:48,317 unittesttestcase.py[line: 78] INFO: 校验规则为：“包含字符串："success":tru1e”
2019-02-21 14:54:48,322 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:54:48,322 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:54:48,322 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:54:48,322 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:54:48,322 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:54:48,323 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:54:48,323 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:54:48,323 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:54:48,323 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:54:48,323 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:54:48,324 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:54:48,324 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:54:48,324 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:54:48,324 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:54:48,326 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:54:48,327 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:54:48,327 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:54:48,327 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:54:48,327 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:54:48,347 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:54:48,347 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"6369afcbd33040fdbe457eac66d4d318","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:54:50","version":null,"obj":null}
2019-02-21 14:54:48,348 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:54:50 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-9')]
2019-02-21 14:54:48,348 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:54:48,348 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:54:48,349 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:54:48,349 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:54:48,349 test_case_step.py[line: 67] ERROR: 替换动态变量出错：expected string or buffer
2019-02-21 14:54:48,349 unittesttestcase.py[line: 39] ERROR: 校验模式填写错误：eval() arg 1 must be a string, bytes or code object，停止校验输出
2019-02-21 14:54:48,351 test_case.py[line: 98] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败, 正在进行第 1 次重试
2019-02-21 14:54:48,351 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:54:48,352 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:54:48,352 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:54:48,352 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:54:48,352 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:54:48,352 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:54:48,353 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:54:48,353 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:54:48,353 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:54:48,353 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:54:48,354 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:54:48,354 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:54:48,355 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:54:48,356 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:54:48,357 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:54:48,357 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:54:48,357 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:54:48,357 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:54:48,358 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:54:48,373 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:54:48,373 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"f7b4366a6ade41b28c365356ebfb3688","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:54:50","version":null,"obj":null}
2019-02-21 14:54:48,374 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:54:50 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-2')]
2019-02-21 14:54:48,374 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:54:48,374 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:54:48,375 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:54:48,375 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:54:48,375 test_case_step.py[line: 67] ERROR: 替换动态变量出错：expected string or buffer
2019-02-21 14:54:48,375 unittesttestcase.py[line: 39] ERROR: 校验模式填写错误：eval() arg 1 must be a string, bytes or code object，停止校验输出
2019-02-21 14:54:48,377 test_case.py[line: 98] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败, 正在进行第 2 次重试
2019-02-21 14:54:48,378 test_case.py[line: 101] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-21 14:54:48,378 debug.py[line: 122] INFO: 正在释放资源
2019-02-21 14:54:48,378 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-21 14:54:48,378 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-21 14:55:46,426 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 14:55:46,427 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-21 14:55:46,428 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-21 14:55:46,428 main.py[line: 67] INFO: 调试模式
2019-02-21 14:55:47,537 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-21 14:55:47,538 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-21 14:55:47,538 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 14:55:47,551 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-21 14:55:47,552 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-21 14:55:47,564 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-21 14:55:47,565 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-21 14:55:47,579 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-21 14:55:47,580 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3  data：
2019-02-21 14:55:47,580 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 3
2019-02-21 14:55:47,590 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 3  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-21 14:55:47,601 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-21 14:55:47,601 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 14:55:47,601 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 14:55:47,602 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 14:55:47,624 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 14:55:47,624 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 14:55:47,624 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:55:47,624 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:55:47,625 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:55:47,625 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:55:47,625 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 14:55:47,626 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:55:47,626 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 14:55:47,626 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 14:55:47,626 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 14:55:47,627 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 14:55:47,627 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 14:55:47,627 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:55:47,627 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:55:47,628 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:55:47,628 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:55:47,628 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:55:47,628 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:55:47,628 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:55:47,629 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:55:47,629 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:55:47,629 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:55:47,630 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:55:47,630 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:55:47,630 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:55:47,683 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:55:47,687 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"12405b09142443c2ba1b75db410c08c7","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:55:49","version":null,"obj":null}
2019-02-21 14:55:47,688 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:55:49 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')]
2019-02-21 14:55:47,688 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:55:47,688 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:55:47,689 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:55:47,689 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:55:47,689 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:55:47,689 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:55:47,690 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":tru1e",
    "消息": "fail#success不为True"
  }
]
2019-02-21 14:55:47,690 unittesttestcase.py[line: 79] INFO: 校验规则为：“包含字符串："success":tru1e”
2019-02-21 14:55:47,695 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:55:47,695 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:55:47,695 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:55:47,696 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:55:47,696 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:55:47,696 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:55:47,696 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:55:47,697 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:55:47,697 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:55:47,697 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:55:47,697 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:55:47,698 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:55:47,698 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:55:47,703 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:55:47,703 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:55:47,704 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:55:47,704 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:55:47,705 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:55:47,705 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:55:47,738 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:55:47,739 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"fd65a7faab4d4617bfb902beaa5ee612","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:55:49","version":null,"obj":null}
2019-02-21 14:55:47,739 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:55:49 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-6')]
2019-02-21 14:55:47,739 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:55:47,739 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:55:47,740 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:55:47,740 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:55:47,740 test_case_step.py[line: 67] ERROR: 替换动态变量出错：expected string or buffer
2019-02-21 14:55:47,741 unittesttestcase.py[line: 39] ERROR: 校验模式:
[{'模式': '"success":tru1e', '消息': 'fail#success不为True'}] 
填写错误：eval() arg 1 must be a string, bytes or code object，停止校验输出
2019-02-21 14:55:47,743 test_case.py[line: 98] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败, 正在进行第 1 次重试
2019-02-21 14:55:47,743 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 14:55:47,744 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 14:55:47,744 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 14:55:47,744 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 14:55:47,744 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:55:47,745 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:55:47,748 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 14:55:47,748 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 14:55:47,748 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:55:47,749 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:55:47,749 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 14:55:47,749 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 14:55:47,749 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 14:55:47,750 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 14:55:47,750 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 14:55:47,750 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 14:55:47,751 httpprotocol.py[line: 104] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 14:55:47,751 httpprotocol.py[line: 105] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 14:55:47,751 httpprotocol.py[line: 106] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 14:55:47,773 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 14:55:47,773 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"3f0160513b474a9d80d9ea3dc74516cc","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 14:55:49","version":null,"obj":null}
2019-02-21 14:55:47,774 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 06:55:49 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-7')]
2019-02-21 14:55:47,774 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 14:55:47,774 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 14:55:47,775 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 14:55:47,775 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 14:55:47,775 test_case_step.py[line: 67] ERROR: 替换动态变量出错：expected string or buffer
2019-02-21 14:55:47,776 unittesttestcase.py[line: 39] ERROR: 校验模式:
[{'模式': '"success":tru1e', '消息': 'fail#success不为True'}] 
填写错误：eval() arg 1 must be a string, bytes or code object，停止校验输出
2019-02-21 14:55:47,779 test_case.py[line: 98] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败, 正在进行第 2 次重试
2019-02-21 14:55:47,779 test_case.py[line: 101] ERROR: 步骤[第 1 步, 步骤ID: 1]运行失败
2019-02-21 14:55:47,780 debug.py[line: 122] INFO: 正在释放资源
2019-02-21 14:55:47,781 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-21 14:55:47,781 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-21 15:17:01,931 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 15:17:01,932 main.py[line: 19] INFO: 当前运行模式为：SingleProject
2019-02-21 15:17:01,932 main.py[line: 22] INFO: 当前运行计划编号为：1550733064
2019-02-21 15:17:01,932 main.py[line: 32] INFO: 运行单项目,待执行的运行计划编码：1550733064
2019-02-21 15:17:01,933 main.py[line: 33] INFO: 正在查询运行计划相关信息
2019-02-21 15:17:01,933 mydb.py[line: 122] INFO: query：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =%s  data：('1550733064',)
2019-02-21 15:17:01,933 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =1550733064
2019-02-21 15:17:01,946 main.py[line: 59] ERROR: 未查询到运行计划相关的信息
2019-02-21 15:17:39,456 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 15:17:39,457 main.py[line: 19] INFO: 当前运行模式为：SingleProject
2019-02-21 15:17:39,457 main.py[line: 22] INFO: 当前运行计划编号为：1550733025
2019-02-21 15:17:39,457 main.py[line: 32] INFO: 运行单项目,待执行的运行计划编码：1550733025
2019-02-21 15:17:39,457 main.py[line: 33] INFO: 正在查询运行计划相关信息
2019-02-21 15:17:39,457 mydb.py[line: 122] INFO: query：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =%s  data：('1550733025',)
2019-02-21 15:17:39,458 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =1550733025
2019-02-21 15:17:39,470 main.py[line: 40] INFO: 待运行项目：名称：UNP统一通知平台API测试，ID：1，关联的测试计划有：统一通知平台API测试计划1
2019-02-21 15:17:39,470 main.py[line: 43] INFO: ======================开始执行运行计划[名称：统一通知平台API测试运行计划1]======================
2019-02-21 15:17:39,471 running_plan.py[line: 29] INFO: 正在查询项目[ID：1,名称：UNP统一通知平台API测试]相关信息
2019-02-21 15:17:39,471 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：(1,)
2019-02-21 15:17:39,471 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 15:17:39,483 running_plan.py[line: 35] INFO: 正在查询与项目关联的数据库信息
2019-02-21 15:17:39,483 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-21 15:17:39,494 running_plan.py[line: 49] INFO: 正在查询与项目关联的全局变量
2019-02-21 15:17:39,495 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-21 15:17:39,508 running_plan.py[line: 75] INFO: ======================开始运行测试项目[名称：UNP统一通知平台API测试, ID：1]======================
2019-02-21 15:17:39,508 test_project.py[line: 103] INFO: ======================正在同步更新与待运行测试计划关联的所有用例树节点信息======================
2019-02-21 15:17:39,509 test_project.py[line: 40] INFO: 待运行计划ID列表：[1]
2019-02-21 15:17:39,509 test_project.py[line: 42] INFO: 正在查询与测试计划关联的用例树节点
2019-02-21 15:17:39,509 mydb.py[line: 152] INFO: query：SELECT node_id FROM `website_api_case_tree_test_plan` WHERE plan_id IN (1) GROUP BY node_id  data：
2019-02-21 15:17:39,519 test_project.py[line: 56] INFO: 正在查找用例树节点信息
2019-02-21 15:17:39,519 mydb.py[line: 122] INFO: query：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = %s  data：(3,)
2019-02-21 15:17:39,520 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = 3
2019-02-21 15:17:39,530 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(2,)
2019-02-21 15:17:39,531 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 2
2019-02-21 15:17:39,542 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(1,)
2019-02-21 15:17:39,543 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 1
2019-02-21 15:17:39,553 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(0,)
2019-02-21 15:17:39,554 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 0
2019-02-21 15:17:39,563 test_project.py[line: 68] INFO: 正在更新测试计划用例树节点关联表记录
2019-02-21 15:17:39,564 mydb.py[line: 82] INFO: update_query：UPDATE website_api_case_tree_test_plan SET node_path='UNP统一通知平台API测试->ID2-单发短信', sub_node_num=0 WHERE plan_id IN (1) AND node_id = 3
2019-02-21 15:17:39,574 test_project.py[line: 109] INFO: 同步更新与待运行测试计划关联的所有用例树节点信息成功
2019-02-21 15:17:39,575 test_project.py[line: 112] INFO: 正在查询测试计划[ID：1]相关信息
2019-02-21 15:17:39,575 mydb.py[line: 122] INFO: query：SELECT plan_name,valid_flag FROM `website_api_test_plan` WHERE id = %s  data：(1,)
2019-02-21 15:17:39,575 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT plan_name,valid_flag FROM `website_api_test_plan` WHERE id = 1
2019-02-21 15:17:39,586 test_project.py[line: 117] INFO: ======================开始运行测试计划[名称：统一通知平台API测试计划1, ID：1]======================
2019-02-21 15:17:39,587 test_plan.py[line: 30] INFO: 正在查询测试计划关联的测试用例
2019-02-21 15:17:39,587 mydb.py[line: 152] INFO: query：SELECT node_id, node_path, node_name FROM `website_api_case_tree_test_plan` WHERE plan_id = %s AND sub_node_num = 0 ORDER BY `order` ASC  data：(1,)
2019-02-21 15:17:39,596 test_plan.py[line: 40] INFO: 正在往测试报告-测试概况插入计划执行概要记录
2019-02-21 15:17:39,597 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_summary`(execution_num, project_id, plan_id, project_name, plan_name,start_time, end_time, time_took, case_total_num, case_pass_num, case_fail_num, case_block_num, remark) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s)  data：('1550733459', 1, 1, 'UNP统一通知平台API测试', '统一通知平台API测试计划1', '2019-02-21 15:17:39', '', '', 0, 0, 0, 0, '')
2019-02-21 15:17:39,608 test_plan.py[line: 49] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 15:17:39,608 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 15:17:39,608 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 15:17:39,630 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 15:17:39,631 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 15:17:39,631 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 15:17:39,631 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 15:17:39,632 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 15:17:39,632 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 15:17:39,632 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 15:17:39,633 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 15:17:39,633 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 15:17:39,633 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 15:17:39,633 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 15:17:39,634 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 15:17:39,634 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 15:17:39,634 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 15:17:39,634 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 15:17:39,635 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 15:17:39,635 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 15:17:39,635 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 15:17:39,636 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 15:17:39,636 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 15:17:39,636 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 15:17:39,636 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 15:17:39,637 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 15:17:39,637 httpprotocol.py[line: 100] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 15:17:39,637 httpprotocol.py[line: 101] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 15:17:39,638 httpprotocol.py[line: 102] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 15:17:39,752 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 15:17:39,757 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"4d405eab6e394d95aff3487dff7fb8a8","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 15:17:41","version":null,"obj":null}
2019-02-21 15:17:39,757 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 07:17:41 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-9')]
2019-02-21 15:17:39,757 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 15:17:39,758 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 15:17:39,758 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 15:17:39,758 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 15:17:39,758 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 15:17:39,759 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 15:17:39,759 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 15:17:39,759 unittesttestcase.py[line: 78] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 15:17:39,760 test_case_step.py[line: 153] INFO: ======================正在记录用例步骤运行结果到测试报告-用例步骤执行明细表======================
2019-02-21 15:17:39,761 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case_step`(execution_num, plan_id, case_id, step_id, `order`, step_type, op_object, object_id, exec_operation, protocol, host, port, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern, output_params, run_result, remark, run_time, run_id) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550733459', 1, 3, 1, 1, '请求接口', 'APIUnittestTestCase', 0, 'test_api_for_json', 'http', 'public-int-gw.intsit.sfdc.com.cn', 1080, '{\n    "Content-Type": "application/json",\n    "charset": "utf-8"\n}', 'POST', '/unp/notice/single', '{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}', 'body', '包含字符串', '[{\n    "消息": "fail#success不为True",\n    "模式": "\\"success\\":true"\n}]', '', '成功', '', '2019-02-21 15:17:39', 0)
2019-02-21 15:17:39,768 mydb.py[line: 74] ERROR: 执行数据库插入操作失败：1406 (22001): Data too long for column 'host' at row 1
2019-02-21 15:17:39,771 test_report.py[line: 64] ERROR: 往测试报告-测试概况-用例明细-步骤明细表插入运行记录失败：1406 (22001): Data too long for column 'host' at row 1
2019-02-21 15:17:39,771 test_case.py[line: 121] INFO: 正在计算运行耗时
2019-02-21 15:17:39,771 test_case.py[line: 127] INFO: 正在记录用例运行结果到测试报告-用例执行明细表
2019-02-21 15:17:39,772 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case`(execution_num, plan_id, case_id, case_path, case_name, run_result, remark, run_time, time_took) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550733459', 1, 3, 'UNP统一通知平台API测试->ID2-单发短信', 'ID3-给国内手机发送短信', '成功', '', '2019-02-21 15:17:39', '0天 0小时 0分 0秒')
2019-02-21 15:17:39,782 test_plan.py[line: 59] INFO: 测试用例执行完毕，正在更新测试报告-测试概况表
2019-02-21 15:17:39,783 test_report.py[line: 13] INFO: 正在查询运行状态为：成功的用例记录数
2019-02-21 15:17:39,783 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('成功', '1550733459', 1)
2019-02-21 15:17:39,783 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '成功' AND execution_num =1550733459 AND plan_id=1
2019-02-21 15:17:39,794 test_report.py[line: 13] INFO: 正在查询运行状态为：失败的用例记录数
2019-02-21 15:17:39,795 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('失败', '1550733459', 1)
2019-02-21 15:17:39,795 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '失败' AND execution_num =1550733459 AND plan_id=1
2019-02-21 15:17:39,806 test_report.py[line: 13] INFO: 正在查询运行状态为：阻塞的用例记录数
2019-02-21 15:17:39,806 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('阻塞', '1550733459', 1)
2019-02-21 15:17:39,806 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '阻塞' AND execution_num =1550733459 AND plan_id=1
2019-02-21 15:17:39,816 mydb.py[line: 82] INFO: update_query：UPDATE `website_api_test_report_for_summary` SET end_time='2019-02-21 15:17:39', time_took='0天 0小时 0分 0秒', case_total_num=1, case_pass_num=1, case_fail_num=0, case_block_num=0, remark='' WHERE execution_num='1550733459' AND plan_id=1
2019-02-21 15:17:39,826 running_plan.py[line: 98] INFO: 正在释放资源
2019-02-21 15:17:39,827 running_plan.py[line: 99] INFO: 正在断开与项目关联的数据库连接
2019-02-21 15:17:39,827 running_plan.py[line: 105] INFO: 正在清理与项目关联的全局变量
2019-02-21 15:17:39,827 main.py[line: 46] INFO: 执行成功，正在更新数据库运行计划的运行状态
2019-02-21 15:17:39,827 mydb.py[line: 82] INFO: update_query：UPDATE `website_running_plan` SET running_status ='执行成功', remark='' WHERE running_plan_num= 1550733025
2019-02-21 15:20:34,672 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 15:20:34,673 main.py[line: 19] INFO: 当前运行模式为：SingleProject
2019-02-21 15:20:34,673 main.py[line: 22] INFO: 当前运行计划编号为：1550733025
2019-02-21 15:20:34,673 main.py[line: 32] INFO: 运行单项目,待执行的运行计划编码：1550733025
2019-02-21 15:20:34,673 main.py[line: 33] INFO: 正在查询运行计划相关信息
2019-02-21 15:20:34,673 mydb.py[line: 122] INFO: query：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =%s  data：('1550733025',)
2019-02-21 15:20:34,674 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =1550733025
2019-02-21 15:20:34,686 main.py[line: 40] INFO: 待运行项目：名称：UNP统一通知平台API测试，ID：1，关联的测试计划有：统一通知平台API测试计划1
2019-02-21 15:20:34,687 main.py[line: 43] INFO: ======================开始执行运行计划[名称：统一通知平台API测试运行计划1]======================
2019-02-21 15:20:34,687 running_plan.py[line: 29] INFO: 正在查询项目[ID：1,名称：UNP统一通知平台API测试]相关信息
2019-02-21 15:20:34,687 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：(1,)
2019-02-21 15:20:34,688 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 15:20:34,702 running_plan.py[line: 35] INFO: 正在查询与项目关联的数据库信息
2019-02-21 15:20:34,702 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-21 15:20:34,717 running_plan.py[line: 49] INFO: 正在查询与项目关联的全局变量
2019-02-21 15:20:34,717 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-21 15:20:34,731 running_plan.py[line: 75] INFO: ======================开始运行测试项目[名称：UNP统一通知平台API测试, ID：1]======================
2019-02-21 15:20:34,732 test_project.py[line: 103] INFO: ======================正在同步更新与待运行测试计划关联的所有用例树节点信息======================
2019-02-21 15:20:34,732 test_project.py[line: 40] INFO: 待运行计划ID列表：[1]
2019-02-21 15:20:34,732 test_project.py[line: 42] INFO: 正在查询与测试计划关联的用例树节点
2019-02-21 15:20:34,732 mydb.py[line: 152] INFO: query：SELECT node_id FROM `website_api_case_tree_test_plan` WHERE plan_id IN (1) GROUP BY node_id  data：
2019-02-21 15:20:34,748 test_project.py[line: 56] INFO: 正在查找用例树节点信息
2019-02-21 15:20:34,748 mydb.py[line: 122] INFO: query：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = %s  data：(3,)
2019-02-21 15:20:34,748 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = 3
2019-02-21 15:20:34,759 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(2,)
2019-02-21 15:20:34,760 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 2
2019-02-21 15:20:34,771 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(1,)
2019-02-21 15:20:34,771 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 1
2019-02-21 15:20:34,784 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(0,)
2019-02-21 15:20:34,785 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 0
2019-02-21 15:20:34,796 test_project.py[line: 68] INFO: 正在更新测试计划用例树节点关联表记录
2019-02-21 15:20:34,797 mydb.py[line: 82] INFO: update_query：UPDATE website_api_case_tree_test_plan SET node_path='UNP统一通知平台API测试->ID2-单发短信', sub_node_num=0 WHERE plan_id IN (1) AND node_id = 3
2019-02-21 15:20:34,808 test_project.py[line: 109] INFO: 同步更新与待运行测试计划关联的所有用例树节点信息成功
2019-02-21 15:20:34,808 test_project.py[line: 112] INFO: 正在查询测试计划[ID：1]相关信息
2019-02-21 15:20:34,809 mydb.py[line: 122] INFO: query：SELECT plan_name,valid_flag FROM `website_api_test_plan` WHERE id = %s  data：(1,)
2019-02-21 15:20:34,809 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT plan_name,valid_flag FROM `website_api_test_plan` WHERE id = 1
2019-02-21 15:20:34,822 test_project.py[line: 117] INFO: ======================开始运行测试计划[名称：统一通知平台API测试计划1, ID：1]======================
2019-02-21 15:20:34,822 test_plan.py[line: 30] INFO: 正在查询测试计划关联的测试用例
2019-02-21 15:20:34,823 mydb.py[line: 152] INFO: query：SELECT node_id, node_path, node_name FROM `website_api_case_tree_test_plan` WHERE plan_id = %s AND sub_node_num = 0 ORDER BY `order` ASC  data：(1,)
2019-02-21 15:20:34,835 test_plan.py[line: 40] INFO: 正在往测试报告-测试概况插入计划执行概要记录
2019-02-21 15:20:34,835 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_summary`(execution_num, project_id, plan_id, project_name, plan_name,start_time, end_time, time_took, case_total_num, case_pass_num, case_fail_num, case_block_num, remark) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s)  data：('1550733634', 1, 1, 'UNP统一通知平台API测试', '统一通知平台API测试计划1', '2019-02-21 15:20:34', '', '', 0, 0, 0, 0, '')
2019-02-21 15:20:34,846 test_plan.py[line: 49] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 15:20:34,847 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 15:20:34,847 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 15:20:34,868 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 15:20:34,869 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 15:20:34,869 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 15:20:34,869 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 15:20:34,870 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 15:20:34,870 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 15:20:34,870 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 15:20:34,871 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 15:20:34,871 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 15:20:34,871 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 15:20:34,872 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 15:20:34,872 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 15:20:34,872 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 15:20:34,872 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 15:20:34,872 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 15:20:34,873 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 15:20:34,873 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 15:20:34,873 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 15:20:34,873 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 15:20:34,873 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 15:20:34,874 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 15:20:34,874 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 15:20:34,874 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 15:20:34,875 httpprotocol.py[line: 100] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 15:20:34,875 httpprotocol.py[line: 101] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 15:20:34,875 httpprotocol.py[line: 102] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-21 15:20:34,975 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 15:20:34,984 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"84f97654e99246e780b3ea8834d19ae6","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 15:20:36","version":null,"obj":null}
2019-02-21 15:20:34,984 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 07:20:36 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-4')]
2019-02-21 15:20:34,985 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 15:20:34,985 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 15:20:34,985 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 15:20:34,985 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 15:20:34,985 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 15:20:34,986 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}'}
2019-02-21 15:20:34,986 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 15:20:34,986 unittesttestcase.py[line: 78] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 15:20:34,988 test_case_step.py[line: 153] INFO: ======================正在记录用例步骤运行结果到测试报告-用例步骤执行明细表======================
2019-02-21 15:20:34,990 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case_step`(execution_num, plan_id, case_id, step_id, `order`, step_type, op_object, object_id, exec_operation, protocol, host, port, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern, output_params, run_result, remark, run_time, run_id) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550733634', 1, 3, 1, 1, '请求接口', 'APIUnittestTestCase', 0, 'test_api_for_json', 'http', 'public-int-gw.intsit.sfdc.com.cn', 1080, '{\n    "Content-Type": "application/json",\n    "charset": "utf-8"\n}', 'POST', '/unp/notice/single', '{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}', 'body', '包含字符串', '[{\n    "模式": "\\"success\\":true",\n    "消息": "fail#success不为True"\n}]', '', '成功', '', '2019-02-21 15:20:34', 0)
2019-02-21 15:20:35,003 test_case.py[line: 121] INFO: 正在计算运行耗时
2019-02-21 15:20:35,003 test_case.py[line: 127] INFO: 正在记录用例运行结果到测试报告-用例执行明细表
2019-02-21 15:20:35,003 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case`(execution_num, plan_id, case_id, case_path, case_name, run_result, remark, run_time, time_took) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550733634', 1, 3, 'UNP统一通知平台API测试->ID2-单发短信', 'ID3-给国内手机发送短信', '成功', '', '2019-02-21 15:20:34', '0天 0小时 0分 0秒')
2019-02-21 15:20:35,016 test_plan.py[line: 59] INFO: 测试用例执行完毕，正在更新测试报告-测试概况表
2019-02-21 15:20:35,017 test_report.py[line: 13] INFO: 正在查询运行状态为：成功的用例记录数
2019-02-21 15:20:35,017 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('成功', '1550733634', 1)
2019-02-21 15:20:35,017 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '成功' AND execution_num =1550733634 AND plan_id=1
2019-02-21 15:20:35,029 test_report.py[line: 13] INFO: 正在查询运行状态为：失败的用例记录数
2019-02-21 15:20:35,030 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('失败', '1550733634', 1)
2019-02-21 15:20:35,030 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '失败' AND execution_num =1550733634 AND plan_id=1
2019-02-21 15:20:35,041 test_report.py[line: 13] INFO: 正在查询运行状态为：阻塞的用例记录数
2019-02-21 15:20:35,041 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('阻塞', '1550733634', 1)
2019-02-21 15:20:35,042 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '阻塞' AND execution_num =1550733634 AND plan_id=1
2019-02-21 15:20:35,052 mydb.py[line: 82] INFO: update_query：UPDATE `website_api_test_report_for_summary` SET end_time='2019-02-21 15:20:35', time_took='0天 0小时 0分 0秒', case_total_num=1, case_pass_num=1, case_fail_num=0, case_block_num=0, remark='' WHERE execution_num='1550733634' AND plan_id=1
2019-02-21 15:20:35,064 running_plan.py[line: 98] INFO: 正在释放资源
2019-02-21 15:20:35,065 running_plan.py[line: 99] INFO: 正在断开与项目关联的数据库连接
2019-02-21 15:20:35,065 running_plan.py[line: 105] INFO: 正在清理与项目关联的全局变量
2019-02-21 15:20:35,065 main.py[line: 46] INFO: 执行成功，正在更新数据库运行计划的运行状态
2019-02-21 15:20:35,065 mydb.py[line: 82] INFO: update_query：UPDATE `website_running_plan` SET running_status ='执行成功', remark='' WHERE running_plan_num= 1550733025
2019-02-21 15:23:09,630 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 15:23:09,631 main.py[line: 19] INFO: 当前运行模式为：SingleProject
2019-02-21 15:23:09,632 main.py[line: 22] INFO: 当前运行计划编号为：1550733025
2019-02-21 15:23:09,632 main.py[line: 32] INFO: 运行单项目,待执行的运行计划编码：1550733025
2019-02-21 15:23:09,632 main.py[line: 33] INFO: 正在查询运行计划相关信息
2019-02-21 15:23:09,633 mydb.py[line: 122] INFO: query：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =%s  data：('1550733025',)
2019-02-21 15:23:09,633 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =1550733025
2019-02-21 15:23:09,652 main.py[line: 40] INFO: 待运行项目：名称：UNP统一通知平台API测试，ID：1，关联的测试计划有：统一通知平台API测试计划1
2019-02-21 15:23:09,652 main.py[line: 43] INFO: ======================开始执行运行计划[名称：统一通知平台API测试运行计划1]======================
2019-02-21 15:23:09,652 running_plan.py[line: 29] INFO: 正在查询项目[ID：1,名称：UNP统一通知平台API测试]相关信息
2019-02-21 15:23:09,653 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：(1,)
2019-02-21 15:23:09,653 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 15:23:09,670 running_plan.py[line: 35] INFO: 正在查询与项目关联的数据库信息
2019-02-21 15:23:09,670 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-21 15:23:09,686 running_plan.py[line: 49] INFO: 正在查询与项目关联的全局变量
2019-02-21 15:23:09,686 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-21 15:23:09,702 running_plan.py[line: 75] INFO: ======================开始运行测试项目[名称：UNP统一通知平台API测试, ID：1]======================
2019-02-21 15:23:09,703 test_project.py[line: 103] INFO: ======================正在同步更新与待运行测试计划关联的所有用例树节点信息======================
2019-02-21 15:23:09,703 test_project.py[line: 40] INFO: 待运行计划ID列表：[1]
2019-02-21 15:23:09,704 test_project.py[line: 42] INFO: 正在查询与测试计划关联的用例树节点
2019-02-21 15:23:09,704 mydb.py[line: 152] INFO: query：SELECT node_id FROM `website_api_case_tree_test_plan` WHERE plan_id IN (1) GROUP BY node_id  data：
2019-02-21 15:23:09,722 test_project.py[line: 56] INFO: 正在查找用例树节点信息
2019-02-21 15:23:09,725 mydb.py[line: 122] INFO: query：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = %s  data：(3,)
2019-02-21 15:23:09,726 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = 3
2019-02-21 15:23:09,741 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(2,)
2019-02-21 15:23:09,741 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 2
2019-02-21 15:23:09,753 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(1,)
2019-02-21 15:23:09,754 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 1
2019-02-21 15:23:09,767 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(0,)
2019-02-21 15:23:09,767 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 0
2019-02-21 15:23:09,781 test_project.py[line: 68] INFO: 正在更新测试计划用例树节点关联表记录
2019-02-21 15:23:09,781 mydb.py[line: 82] INFO: update_query：UPDATE website_api_case_tree_test_plan SET node_path='UNP统一通知平台API测试->ID2-单发短信', sub_node_num=0 WHERE plan_id IN (1) AND node_id = 3
2019-02-21 15:23:09,794 test_project.py[line: 109] INFO: 同步更新与待运行测试计划关联的所有用例树节点信息成功
2019-02-21 15:23:09,795 test_project.py[line: 112] INFO: 正在查询测试计划[ID：1]相关信息
2019-02-21 15:23:09,796 mydb.py[line: 122] INFO: query：SELECT plan_name,valid_flag FROM `website_api_test_plan` WHERE id = %s  data：(1,)
2019-02-21 15:23:09,796 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT plan_name,valid_flag FROM `website_api_test_plan` WHERE id = 1
2019-02-21 15:23:09,810 test_project.py[line: 117] INFO: ======================开始运行测试计划[名称：统一通知平台API测试计划1, ID：1]======================
2019-02-21 15:23:09,811 test_plan.py[line: 30] INFO: 正在查询测试计划关联的测试用例
2019-02-21 15:23:09,811 mydb.py[line: 152] INFO: query：SELECT node_id, node_path, node_name FROM `website_api_case_tree_test_plan` WHERE plan_id = %s AND sub_node_num = 0 ORDER BY `order` ASC  data：(1,)
2019-02-21 15:23:09,827 test_plan.py[line: 40] INFO: 正在往测试报告-测试概况插入计划执行概要记录
2019-02-21 15:23:09,827 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_summary`(execution_num, project_id, plan_id, project_name, plan_name,start_time, end_time, time_took, case_total_num, case_pass_num, case_fail_num, case_block_num, remark) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s)  data：('1550733789', 1, 1, 'UNP统一通知平台API测试', '统一通知平台API测试计划1', '2019-02-21 15:23:09', '', '', 0, 0, 0, 0, '')
2019-02-21 15:23:09,840 test_plan.py[line: 49] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 15:23:09,840 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 15:23:09,841 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 15:23:09,866 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 15:23:09,866 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 15:23:09,866 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 15:23:09,867 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 15:23:09,867 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 15:23:09,867 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 15:23:09,868 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 15:23:09,868 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 15:23:09,868 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 15:23:09,868 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 15:23:09,869 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 15:23:09,869 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 15:23:09,869 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 15:23:09,869 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 15:23:09,870 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 15:23:09,870 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 15:23:09,870 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 15:23:09,871 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 15:23:09,871 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 15:23:09,871 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 15:23:09,871 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 15:23:09,872 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 15:23:09,872 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 15:23:09,872 httpprotocol.py[line: 100] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 15:23:09,873 httpprotocol.py[line: 101] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 15:23:09,873 httpprotocol.py[line: 102] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-21 15:23:09,926 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 15:23:09,931 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"3a30fc5e9d7340ae808bc931039206b0","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 15:23:11","version":null,"obj":null}
2019-02-21 15:23:09,932 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 07:23:11 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')]
2019-02-21 15:23:09,932 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 15:23:09,933 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 15:23:09,933 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 15:23:09,933 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 15:23:09,933 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 15:23:09,934 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 15:23:09,934 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 15:23:09,934 unittesttestcase.py[line: 78] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 15:23:09,935 test_case_step.py[line: 153] INFO: ======================正在记录用例步骤运行结果到测试报告-用例步骤执行明细表======================
2019-02-21 15:23:09,936 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case_step`(execution_num, plan_id, case_id, step_id, `order`, step_type, op_object, object_id, exec_operation, protocol, host, port, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern, output_params, run_result, remark, run_time, run_id) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550733789', 1, 3, 1, 1, '请求接口', 'APIUnittestTestCase', 0, 'test_api_for_json', 'http', 'public-int-gw.intsit.sfdc.com.cn', 1080, '{\n    "charset": "utf-8",\n    "Content-Type": "application/json"\n}', 'POST', '/unp/notice/single', '{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}', 'body', '包含字符串', '[{\n    "消息": "fail#success不为True",\n    "模式": "\\"success\\":true"\n}]', '', '成功', '', '2019-02-21 15:23:09', 0)
2019-02-21 15:23:09,948 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 15:23:09,948 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 15:23:09,949 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 15:23:09,949 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 15:23:09,949 test_case_step.py[line: 106] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 15:23:09,950 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 15:23:09,950 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 15:23:09,950 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 15:23:09,950 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 15:23:09,951 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 15:23:09,951 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 15:23:09,951 test_case_step.py[line: 58] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 15:23:09,951 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 15:23:09,951 test_case_step.py[line: 110] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 15:23:09,952 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 15:23:09,952 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 15:23:09,952 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 15:23:09,952 test_case_step.py[line: 114] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 15:23:09,953 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 15:23:09,953 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 15:23:09,953 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 15:23:09,953 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 15:23:09,954 httpprotocol.py[line: 100] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 15:23:09,954 httpprotocol.py[line: 101] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 15:23:09,954 httpprotocol.py[line: 102] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-21 15:23:09,971 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 15:23:09,971 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"e3274349a3454bd38250d3ab99a9c446","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 15:23:11","version":null,"obj":null}
2019-02-21 15:23:09,972 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 07:23:11 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-6')]
2019-02-21 15:23:09,972 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 15:23:09,972 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 15:23:09,973 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 15:23:09,973 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 15:23:09,973 test_case_step.py[line: 55] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 15:23:09,973 test_case_step.py[line: 56] INFO: 已保存的全局变量有：{'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_accessID': 'o17O12xf', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE'}
2019-02-21 15:23:09,974 test_case_step.py[line: 65] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 15:23:09,974 unittesttestcase.py[line: 78] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 15:23:09,975 test_case_step.py[line: 153] INFO: ======================正在记录用例步骤运行结果到测试报告-用例步骤执行明细表======================
2019-02-21 15:23:09,975 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case_step`(execution_num, plan_id, case_id, step_id, `order`, step_type, op_object, object_id, exec_operation, protocol, host, port, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern, output_params, run_result, remark, run_time, run_id) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550733789', 1, 3, 1, 1, '请求接口', 'APIUnittestTestCase', 0, 'test_api_for_json', 'http', 'public-int-gw.intsit.sfdc.com.cn', 1080, '{\n    "charset": "utf-8",\n    "Content-Type": "application/json"\n}', 'POST', '/unp/notice/single', '{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}', 'body', '包含字符串', '[{\n    "消息": "fail#success不为True",\n    "模式": "\\"success\\":true"\n}]', '', '成功', '', '2019-02-21 15:23:09', 0)
2019-02-21 15:23:09,986 test_case.py[line: 121] INFO: 正在计算运行耗时
2019-02-21 15:23:09,986 test_case.py[line: 127] INFO: 正在记录用例运行结果到测试报告-用例执行明细表
2019-02-21 15:23:09,987 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case`(execution_num, plan_id, case_id, case_path, case_name, run_result, remark, run_time, time_took) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550733789', 1, 3, 'UNP统一通知平台API测试->ID2-单发短信', 'ID3-给国内手机发送短信', '成功', '', '2019-02-21 15:23:09', '0天 0小时 0分 0秒')
2019-02-21 15:23:09,998 test_plan.py[line: 59] INFO: 测试用例执行完毕，正在更新测试报告-测试概况表
2019-02-21 15:23:09,999 test_report.py[line: 13] INFO: 正在查询运行状态为：成功的用例记录数
2019-02-21 15:23:09,999 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('成功', '1550733789', 1)
2019-02-21 15:23:09,999 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '成功' AND execution_num =1550733789 AND plan_id=1
2019-02-21 15:23:10,013 test_report.py[line: 13] INFO: 正在查询运行状态为：失败的用例记录数
2019-02-21 15:23:10,013 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('失败', '1550733789', 1)
2019-02-21 15:23:10,014 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '失败' AND execution_num =1550733789 AND plan_id=1
2019-02-21 15:23:10,026 test_report.py[line: 13] INFO: 正在查询运行状态为：阻塞的用例记录数
2019-02-21 15:23:10,027 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('阻塞', '1550733789', 1)
2019-02-21 15:23:10,027 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '阻塞' AND execution_num =1550733789 AND plan_id=1
2019-02-21 15:23:10,041 mydb.py[line: 82] INFO: update_query：UPDATE `website_api_test_report_for_summary` SET end_time='2019-02-21 15:23:09', time_took='0天 0小时 0分 0秒', case_total_num=1, case_pass_num=1, case_fail_num=0, case_block_num=0, remark='' WHERE execution_num='1550733789' AND plan_id=1
2019-02-21 15:23:10,053 running_plan.py[line: 98] INFO: 正在释放资源
2019-02-21 15:23:10,054 running_plan.py[line: 99] INFO: 正在断开与项目关联的数据库连接
2019-02-21 15:23:10,054 running_plan.py[line: 105] INFO: 正在清理与项目关联的全局变量
2019-02-21 15:23:10,054 main.py[line: 46] INFO: 执行成功，正在更新数据库运行计划的运行状态
2019-02-21 15:23:10,054 mydb.py[line: 82] INFO: update_query：UPDATE `website_running_plan` SET running_status ='执行成功', remark='' WHERE running_plan_num= 1550733025
2019-02-21 18:34:57,601 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 18:34:57,610 main.py[line: 19] INFO: 当前运行模式为：SingleProject
2019-02-21 18:34:57,610 main.py[line: 22] INFO: 当前运行计划编号为：1550733025
2019-02-21 18:34:57,610 main.py[line: 32] INFO: 运行单项目,待执行的运行计划编码：1550733025
2019-02-21 18:34:57,611 main.py[line: 33] INFO: 正在查询运行计划相关信息
2019-02-21 18:34:57,611 mydb.py[line: 122] INFO: query：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =%s  data：('1550733025',)
2019-02-21 18:34:57,611 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =1550733025
2019-02-21 18:34:57,625 main.py[line: 40] INFO: 待运行项目：名称：UNP统一通知平台API测试，ID：1，关联的测试计划有：统一通知平台API测试计划1
2019-02-21 18:34:57,626 main.py[line: 43] INFO: ======================开始执行运行计划[名称：统一通知平台API测试运行计划1]======================
2019-02-21 18:34:57,626 running_plan.py[line: 29] INFO: 正在查询项目[ID：1,名称：UNP统一通知平台API测试]相关信息
2019-02-21 18:34:57,626 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：(1,)
2019-02-21 18:34:57,627 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 18:34:57,639 running_plan.py[line: 35] INFO: 正在查询与项目关联的数据库信息
2019-02-21 18:34:57,639 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-21 18:35:18,706 mydb.py[line: 37] ERROR: 初始化数据连接失败：2003: Can't connect to MySQL server on '10.115.126.23:3306' (10060 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。)
2019-02-21 18:35:18,707 running_plan.py[line: 98] INFO: 正在释放资源
2019-02-21 18:35:18,707 running_plan.py[line: 99] INFO: 正在断开与项目关联的数据库连接
2019-02-21 18:35:18,707 running_plan.py[line: 105] INFO: 正在清理与项目关联的全局变量
2019-02-21 18:35:18,708 main.py[line: 46] INFO: 执行成功，正在更新数据库运行计划的运行状态
2019-02-21 18:35:18,708 main.py[line: 63] ERROR: list index out of range
2019-02-21 18:35:41,618 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 18:35:41,618 main.py[line: 19] INFO: 当前运行模式为：SingleProject
2019-02-21 18:35:41,619 main.py[line: 22] INFO: 当前运行计划编号为：1550733025
2019-02-21 18:35:41,619 main.py[line: 32] INFO: 运行单项目,待执行的运行计划编码：1550733025
2019-02-21 18:35:41,619 main.py[line: 33] INFO: 正在查询运行计划相关信息
2019-02-21 18:35:41,619 mydb.py[line: 122] INFO: query：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =%s  data：('1550733025',)
2019-02-21 18:35:41,620 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =1550733025
2019-02-21 18:35:41,632 main.py[line: 40] INFO: 待运行项目：名称：UNP统一通知平台API测试，ID：1，关联的测试计划有：统一通知平台API测试计划1
2019-02-21 18:35:41,633 main.py[line: 43] INFO: ======================开始执行运行计划[名称：统一通知平台API测试运行计划1]======================
2019-02-21 18:35:41,633 running_plan.py[line: 29] INFO: 正在查询项目[ID：1,名称：UNP统一通知平台API测试]相关信息
2019-02-21 18:35:41,633 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：(1,)
2019-02-21 18:35:41,633 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 18:35:41,646 running_plan.py[line: 35] INFO: 正在查询与项目关联的数据库信息
2019-02-21 18:35:41,646 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-21 18:36:02,681 mydb.py[line: 37] ERROR: 初始化数据连接失败：2003: Can't connect to MySQL server on '10.115.126.23:3306' (10060 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。)
2019-02-21 18:36:02,682 running_plan.py[line: 98] INFO: 正在释放资源
2019-02-21 18:36:02,682 running_plan.py[line: 99] INFO: 正在断开与项目关联的数据库连接
2019-02-21 18:36:02,682 running_plan.py[line: 105] INFO: 正在清理与项目关联的全局变量
2019-02-21 18:36:02,683 main.py[line: 46] INFO: 执行成功，正在更新数据库运行计划的运行状态
2019-02-21 18:36:02,683 main.py[line: 63] ERROR: list index out of range
2019-02-21 18:37:00,740 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 18:37:00,740 main.py[line: 19] INFO: 当前运行模式为：SingleProject
2019-02-21 18:37:00,741 main.py[line: 22] INFO: 当前运行计划编号为：1550733025
2019-02-21 18:37:00,741 main.py[line: 32] INFO: 运行单项目,待执行的运行计划编码：1550733025
2019-02-21 18:37:00,741 main.py[line: 33] INFO: 正在查询运行计划相关信息
2019-02-21 18:37:00,741 mydb.py[line: 122] INFO: query：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =%s  data：('1550733025',)
2019-02-21 18:37:00,742 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =1550733025
2019-02-21 18:37:00,760 main.py[line: 40] INFO: 待运行项目：名称：UNP统一通知平台API测试，ID：1，关联的测试计划有：统一通知平台API测试计划1
2019-02-21 18:37:00,760 main.py[line: 43] INFO: ======================开始执行运行计划[名称：统一通知平台API测试运行计划1]======================
2019-02-21 18:37:00,760 running_plan.py[line: 29] INFO: 正在查询项目[ID：1,名称：UNP统一通知平台API测试]相关信息
2019-02-21 18:37:00,760 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：(1,)
2019-02-21 18:37:00,761 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 18:37:00,774 running_plan.py[line: 35] INFO: 正在查询与项目关联的数据库信息
2019-02-21 18:37:00,775 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-21 18:37:21,826 mydb.py[line: 37] ERROR: 初始化数据连接失败：2003: Can't connect to MySQL server on '10.115.126.23:3306' (10060 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。)
2019-02-21 18:37:21,827 running_plan.py[line: 98] INFO: 正在释放资源
2019-02-21 18:37:21,827 running_plan.py[line: 99] INFO: 正在断开与项目关联的数据库连接
2019-02-21 18:37:21,827 running_plan.py[line: 105] INFO: 正在清理与项目关联的全局变量
2019-02-21 18:37:21,827 main.py[line: 46] INFO: 执行成功，正在更新数据库运行计划的运行状态
2019-02-21 18:37:21,828 main.py[line: 63] ERROR: list index out of range
2019-02-21 18:37:29,954 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-21 18:37:29,955 main.py[line: 19] INFO: 当前运行模式为：SingleProject
2019-02-21 18:37:29,955 main.py[line: 22] INFO: 当前运行计划编号为：1550733025
2019-02-21 18:37:29,955 main.py[line: 32] INFO: 运行单项目,待执行的运行计划编码：1550733025
2019-02-21 18:37:29,956 main.py[line: 33] INFO: 正在查询运行计划相关信息
2019-02-21 18:37:29,956 mydb.py[line: 122] INFO: query：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =%s  data：('1550733025',)
2019-02-21 18:37:29,956 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =1550733025
2019-02-21 18:37:29,969 main.py[line: 40] INFO: 待运行项目：名称：UNP统一通知平台API测试，ID：1，关联的测试计划有：统一通知平台API测试计划1
2019-02-21 18:37:29,969 main.py[line: 43] INFO: ======================开始执行运行计划[名称：统一通知平台API测试运行计划1]======================
2019-02-21 18:37:29,969 running_plan.py[line: 29] INFO: 正在查询项目[ID：1,名称：UNP统一通知平台API测试]相关信息
2019-02-21 18:37:29,969 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：(1,)
2019-02-21 18:37:29,970 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-21 18:37:29,984 running_plan.py[line: 35] INFO: 正在查询与项目关联的数据库信息
2019-02-21 18:37:29,985 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-21 18:37:29,998 running_plan.py[line: 49] INFO: 正在查询与项目关联的全局变量
2019-02-21 18:37:29,999 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-21 18:37:30,015 running_plan.py[line: 75] INFO: ======================开始运行测试项目[名称：UNP统一通知平台API测试, ID：1]======================
2019-02-21 18:37:30,015 test_project.py[line: 103] INFO: ======================正在同步更新与待运行测试计划关联的所有用例树节点信息======================
2019-02-21 18:37:30,015 test_project.py[line: 40] INFO: 待运行计划ID列表：[1]
2019-02-21 18:37:30,016 test_project.py[line: 42] INFO: 正在查询与测试计划关联的用例树节点
2019-02-21 18:37:30,016 mydb.py[line: 152] INFO: query：SELECT node_id FROM `website_api_case_tree_test_plan` WHERE plan_id IN (1) GROUP BY node_id  data：
2019-02-21 18:37:30,027 test_project.py[line: 56] INFO: 正在查找用例树节点信息
2019-02-21 18:37:30,027 mydb.py[line: 122] INFO: query：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = %s  data：(3,)
2019-02-21 18:37:30,028 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = 3
2019-02-21 18:37:30,040 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(2,)
2019-02-21 18:37:30,041 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 2
2019-02-21 18:37:30,050 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(1,)
2019-02-21 18:37:30,051 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 1
2019-02-21 18:37:30,060 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(0,)
2019-02-21 18:37:30,061 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 0
2019-02-21 18:37:30,070 test_project.py[line: 68] INFO: 正在更新测试计划用例树节点关联表记录
2019-02-21 18:37:30,070 mydb.py[line: 82] INFO: update_query：UPDATE website_api_case_tree_test_plan SET node_path='UNP统一通知平台API测试->ID2-单发短信', sub_node_num=0 WHERE plan_id IN (1) AND node_id = 3
2019-02-21 18:37:30,080 test_project.py[line: 109] INFO: 同步更新与待运行测试计划关联的所有用例树节点信息成功
2019-02-21 18:37:30,080 test_project.py[line: 112] INFO: 正在查询测试计划[ID：1]相关信息
2019-02-21 18:37:30,080 mydb.py[line: 122] INFO: query：SELECT plan_name,valid_flag FROM `website_api_test_plan` WHERE id = %s  data：(1,)
2019-02-21 18:37:30,080 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT plan_name,valid_flag FROM `website_api_test_plan` WHERE id = 1
2019-02-21 18:37:30,091 test_project.py[line: 117] INFO: ======================开始运行测试计划[名称：统一通知平台API测试计划1, ID：1]======================
2019-02-21 18:37:30,092 test_plan.py[line: 30] INFO: 正在查询测试计划关联的测试用例
2019-02-21 18:37:30,092 mydb.py[line: 152] INFO: query：SELECT node_id, node_path, node_name FROM `website_api_case_tree_test_plan` WHERE plan_id = %s AND sub_node_num = 0 ORDER BY `order` ASC  data：(1,)
2019-02-21 18:37:30,103 test_plan.py[line: 40] INFO: 正在往测试报告-测试概况插入计划执行概要记录
2019-02-21 18:37:30,103 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_summary`(execution_num, project_id, plan_id, project_name, plan_name,start_time, end_time, time_took, case_total_num, case_pass_num, case_fail_num, case_block_num, remark) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s)  data：('1550745450', 1, 1, 'UNP统一通知平台API测试', '统一通知平台API测试计划1', '2019-02-21 18:37:30', '', '', 0, 0, 0, 0, '')
2019-02-21 18:37:30,115 test_plan.py[line: 49] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-21 18:37:30,116 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-21 18:37:30,116 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-21 18:37:30,134 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-21 18:37:30,135 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 18:37:30,135 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 18:37:30,135 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 18:37:30,135 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 18:37:30,136 test_case_step.py[line: 107] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 18:37:30,137 test_case_step.py[line: 56] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 18:37:30,137 test_case_step.py[line: 57] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessID': 'o17O12xf'}
2019-02-21 18:37:30,137 test_case_step.py[line: 59] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 18:37:30,137 test_case_step.py[line: 59] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 18:37:30,138 test_case_step.py[line: 59] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 18:37:30,138 test_case_step.py[line: 59] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 18:37:30,138 test_case_step.py[line: 59] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 18:37:30,139 test_case_step.py[line: 66] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 18:37:30,139 test_case_step.py[line: 111] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 18:37:30,139 test_case_step.py[line: 56] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 18:37:30,139 test_case_step.py[line: 57] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessID': 'o17O12xf'}
2019-02-21 18:37:30,139 test_case_step.py[line: 66] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 18:37:30,140 test_case_step.py[line: 115] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 18:37:30,140 test_case_step.py[line: 56] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 18:37:30,140 test_case_step.py[line: 57] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessID': 'o17O12xf'}
2019-02-21 18:37:30,140 test_case_step.py[line: 66] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 18:37:30,141 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 18:37:30,141 httpprotocol.py[line: 100] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 18:37:30,142 httpprotocol.py[line: 101] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 18:37:30,142 httpprotocol.py[line: 102] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-21 18:37:30,205 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 18:37:30,235 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"ef5b30b5e9e34d619d1d22cb683e3f0e","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 18:37:29","version":null,"obj":null}
2019-02-21 18:37:30,235 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 10:37:29 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-8')]
2019-02-21 18:37:30,235 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 18:37:30,235 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 18:37:30,236 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 18:37:30,236 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 18:37:30,236 test_case_step.py[line: 56] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 18:37:30,236 test_case_step.py[line: 57] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessID': 'o17O12xf'}
2019-02-21 18:37:30,236 test_case_step.py[line: 66] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 18:37:30,237 unittesttestcase.py[line: 78] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 18:37:30,238 test_case_step.py[line: 154] INFO: ======================正在记录用例步骤运行结果到测试报告-用例步骤执行明细表======================
2019-02-21 18:37:30,238 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case_step`(execution_num, plan_id, case_id, step_id, `order`, step_type, op_object, object_id, exec_operation, protocol, host, port, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern, output_params, run_result, remark, run_time, run_id) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550745450', 1, 3, 1, 1, '请求接口', 'APIUnittestTestCase', 0, 'test_api_for_json', 'http', 'public-int-gw.intsit.sfdc.com.cn', 1080, '{\n    "charset": "utf-8",\n    "Content-Type": "application/json"\n}', 'POST', '/unp/notice/single', '{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}', 'body', '包含字符串', '[{\n    "模式": "\\"success\\":true",\n    "消息": "fail#success不为True"\n}]', '', '成功', '', '2019-02-21 18:37:30', 0)
2019-02-21 18:37:30,249 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-21 18:37:30,249 test_case_step.py[line: 76] INFO: 步骤类型：请求接口
2019-02-21 18:37:30,249 test_case_step.py[line: 77] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-21 18:37:30,249 test_case_step.py[line: 78] INFO: 执行操作：test_api_for_json
2019-02-21 18:37:30,250 test_case_step.py[line: 107] INFO: 正在替换“输入参数”中的动态参数
2019-02-21 18:37:30,250 test_case_step.py[line: 56] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-21 18:37:30,250 test_case_step.py[line: 57] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessID': 'o17O12xf'}
2019-02-21 18:37:30,250 test_case_step.py[line: 59] INFO: 正在替换动态变量：$global_mobile$
2019-02-21 18:37:30,251 test_case_step.py[line: 59] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-21 18:37:30,251 test_case_step.py[line: 59] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-21 18:37:30,251 test_case_step.py[line: 59] INFO: 正在替换动态变量：$global_accessID$
2019-02-21 18:37:30,251 test_case_step.py[line: 59] INFO: 正在替换动态变量：$global_accessToken$
2019-02-21 18:37:30,251 test_case_step.py[line: 66] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-21 18:37:30,252 test_case_step.py[line: 111] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-21 18:37:30,252 test_case_step.py[line: 56] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 18:37:30,252 test_case_step.py[line: 57] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessID': 'o17O12xf'}
2019-02-21 18:37:30,252 test_case_step.py[line: 66] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-21 18:37:30,252 test_case_step.py[line: 115] INFO: 正在替换“主机地址”中的动态参数
2019-02-21 18:37:30,253 test_case_step.py[line: 56] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 18:37:30,253 test_case_step.py[line: 57] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessID': 'o17O12xf'}
2019-02-21 18:37:30,254 test_case_step.py[line: 66] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-21 18:37:30,254 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-21 18:37:30,254 httpprotocol.py[line: 100] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-21 18:37:30,255 httpprotocol.py[line: 101] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-21 18:37:30,255 httpprotocol.py[line: 102] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-21 18:37:30,279 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-21 18:37:30,279 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"cb689b4dc5a8416990b61a8e573293ab","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-21 18:37:30","version":null,"obj":null}
2019-02-21 18:37:30,280 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Thu, 21 Feb 2019 10:37:30 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-9')]
2019-02-21 18:37:30,280 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-21 18:37:30,280 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-21 18:37:30,281 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-21 18:37:30,281 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-21 18:37:30,281 test_case_step.py[line: 56] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-21 18:37:30,281 test_case_step.py[line: 57] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_mobile': '17817738178', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessID': 'o17O12xf'}
2019-02-21 18:37:30,281 test_case_step.py[line: 66] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-21 18:37:30,282 unittesttestcase.py[line: 78] INFO: 校验规则为：“包含字符串："success":true”
2019-02-21 18:37:30,282 test_case_step.py[line: 154] INFO: ======================正在记录用例步骤运行结果到测试报告-用例步骤执行明细表======================
2019-02-21 18:37:30,283 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case_step`(execution_num, plan_id, case_id, step_id, `order`, step_type, op_object, object_id, exec_operation, protocol, host, port, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern, output_params, run_result, remark, run_time, run_id) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550745450', 1, 3, 1, 1, '请求接口', 'APIUnittestTestCase', 0, 'test_api_for_json', 'http', 'public-int-gw.intsit.sfdc.com.cn', 1080, '{\n    "charset": "utf-8",\n    "Content-Type": "application/json"\n}', 'POST', '/unp/notice/single', '{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}', 'body', '包含字符串', '[{\n    "模式": "\\"success\\":true",\n    "消息": "fail#success不为True"\n}]', '', '成功', '', '2019-02-21 18:37:30', 0)
2019-02-21 18:37:30,293 test_case.py[line: 121] INFO: 正在计算运行耗时
2019-02-21 18:37:30,293 test_case.py[line: 127] INFO: 正在记录用例运行结果到测试报告-用例执行明细表
2019-02-21 18:37:30,293 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case`(execution_num, plan_id, case_id, case_path, case_name, run_result, remark, run_time, time_took) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550745450', 1, 3, 'UNP统一通知平台API测试->ID2-单发短信', 'ID3-给国内手机发送短信', '成功', '', '2019-02-21 18:37:30', '0天 0小时 0分 0秒')
2019-02-21 18:37:30,304 test_plan.py[line: 59] INFO: 测试用例执行完毕，正在更新测试报告-测试概况表
2019-02-21 18:37:30,305 test_report.py[line: 13] INFO: 正在查询运行状态为：成功的用例记录数
2019-02-21 18:37:30,305 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('成功', '1550745450', 1)
2019-02-21 18:37:30,305 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '成功' AND execution_num =1550745450 AND plan_id=1
2019-02-21 18:37:30,315 test_report.py[line: 13] INFO: 正在查询运行状态为：失败的用例记录数
2019-02-21 18:37:30,315 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('失败', '1550745450', 1)
2019-02-21 18:37:30,316 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '失败' AND execution_num =1550745450 AND plan_id=1
2019-02-21 18:37:30,325 test_report.py[line: 13] INFO: 正在查询运行状态为：阻塞的用例记录数
2019-02-21 18:37:30,325 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('阻塞', '1550745450', 1)
2019-02-21 18:37:30,325 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '阻塞' AND execution_num =1550745450 AND plan_id=1
2019-02-21 18:37:30,335 mydb.py[line: 82] INFO: update_query：UPDATE `website_api_test_report_for_summary` SET end_time='2019-02-21 18:37:30', time_took='0天 0小时 0分 0秒', case_total_num=1, case_pass_num=1, case_fail_num=0, case_block_num=0, remark='' WHERE execution_num='1550745450' AND plan_id=1
2019-02-21 18:37:30,344 running_plan.py[line: 98] INFO: 正在释放资源
2019-02-21 18:37:30,345 running_plan.py[line: 99] INFO: 正在断开与项目关联的数据库连接
2019-02-21 18:37:30,345 running_plan.py[line: 105] INFO: 正在清理与项目关联的全局变量
2019-02-21 18:37:30,345 main.py[line: 46] INFO: 执行成功，正在更新数据库运行计划的运行状态
2019-02-21 18:37:30,346 mydb.py[line: 82] INFO: update_query：UPDATE `website_running_plan` SET running_status ='执行成功', remark='' WHERE running_plan_num= 1550733025
2019-02-22 09:21:38,151 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-22 09:21:38,152 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-22 09:21:38,152 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-22 09:21:38,153 main.py[line: 67] INFO: 调试模式
2019-02-22 09:21:41,041 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-22 09:21:41,042 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-22 09:21:41,042 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-22 09:21:41,076 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-22 09:21:41,076 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-22 09:21:41,092 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-22 09:21:41,092 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-22 09:21:41,093 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-22 09:21:41,093 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 4  data：
2019-02-22 09:21:41,093 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 4
2019-02-22 09:21:41,098 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 4  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-22 09:21:41,109 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-22 09:21:41,110 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID4-nodename, ID:4]======================
2019-02-22 09:21:41,110 test_case.py[line: 32] INFO: 正在查询测试用例[ID：4, 名称：ID4-nodename]关联的测试步骤
2019-02-22 09:21:41,110 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(4,)
2019-02-22 09:21:41,128 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-22 09:21:41,128 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 2]======================
2019-02-22 09:21:41,129 test_case_step.py[line: 76] INFO: 步骤类型：执行函数
2019-02-22 09:21:41,129 test_case_step.py[line: 77] INFO: 步骤操作对象：死等待
2019-02-22 09:21:41,129 test_case_step.py[line: 78] INFO: 执行操作：call
2019-02-22 09:21:41,130 test_case_step.py[line: 115] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:21:41,130 test_case_step.py[line: 56] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:21:41,130 test_case_step.py[line: 57] INFO: 已保存的全局变量有：{'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf'}
2019-02-22 09:21:41,131 test_case_step.py[line: 66] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:21:41,131 test_case_step.py[line: 149] ERROR: no such test method in <class 'function.FuncUnittestTestCase.FuncUnittestTestCase'>: test_call
2019-02-22 09:21:41,131 test_case.py[line: 97] ERROR: 步骤[第 1 步, 步骤ID: 2]运行失败, 正在进行第 1 次重试
2019-02-22 09:21:41,131 test_case_step.py[line: 76] INFO: 步骤类型：执行函数
2019-02-22 09:21:41,132 test_case_step.py[line: 77] INFO: 步骤操作对象：死等待
2019-02-22 09:21:41,132 test_case_step.py[line: 78] INFO: 执行操作：call
2019-02-22 09:21:41,132 test_case_step.py[line: 115] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:21:41,132 test_case_step.py[line: 56] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:21:41,133 test_case_step.py[line: 57] INFO: 已保存的全局变量有：{'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf'}
2019-02-22 09:21:41,133 test_case_step.py[line: 66] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:21:41,133 test_case_step.py[line: 149] ERROR: no such test method in <class 'function.FuncUnittestTestCase.FuncUnittestTestCase'>: test_call
2019-02-22 09:21:41,133 test_case.py[line: 97] ERROR: 步骤[第 1 步, 步骤ID: 2]运行失败, 正在进行第 2 次重试
2019-02-22 09:21:41,134 test_case_step.py[line: 76] INFO: 步骤类型：执行函数
2019-02-22 09:21:41,134 test_case_step.py[line: 77] INFO: 步骤操作对象：死等待
2019-02-22 09:21:41,134 test_case_step.py[line: 78] INFO: 执行操作：call
2019-02-22 09:21:41,134 test_case_step.py[line: 115] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:21:41,135 test_case_step.py[line: 56] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:21:41,135 test_case_step.py[line: 57] INFO: 已保存的全局变量有：{'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf'}
2019-02-22 09:21:41,135 test_case_step.py[line: 66] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:21:41,135 test_case_step.py[line: 149] ERROR: no such test method in <class 'function.FuncUnittestTestCase.FuncUnittestTestCase'>: test_call
2019-02-22 09:21:41,136 test_case.py[line: 101] ERROR: 步骤[第 1 步, 步骤ID: 2]运行失败
2019-02-22 09:21:41,136 debug.py[line: 122] INFO: 正在释放资源
2019-02-22 09:21:41,136 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-22 09:21:41,136 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-22 09:35:23,095 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-22 09:35:23,095 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-22 09:35:23,096 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-22 09:35:23,096 main.py[line: 67] INFO: 调试模式
2019-02-22 09:35:24,324 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-22 09:35:24,325 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-22 09:35:24,325 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-22 09:35:24,342 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-22 09:35:24,342 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-22 09:35:24,356 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-22 09:35:24,357 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-22 09:35:24,371 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-22 09:35:24,371 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 4  data：
2019-02-22 09:35:24,372 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 4
2019-02-22 09:35:24,384 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 4  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-22 09:35:24,397 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-22 09:35:24,397 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID4-nodename, ID:4]======================
2019-02-22 09:35:24,397 test_case.py[line: 32] INFO: 正在查询测试用例[ID：4, 名称：ID4-nodename]关联的测试步骤
2019-02-22 09:35:24,398 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(4,)
2019-02-22 09:35:24,419 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-22 09:35:24,419 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 2]======================
2019-02-22 09:35:24,420 test_case_step.py[line: 78] INFO: 步骤类型：执行函数
2019-02-22 09:35:24,420 test_case_step.py[line: 79] INFO: 步骤操作对象：死等待
2019-02-22 09:35:24,420 test_case_step.py[line: 80] INFO: 执行操作：call
2019-02-22 09:35:24,421 test_case_step.py[line: 117] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:35:24,421 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:35:24,422 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_mobile': '17817738178', 'global_accessID': 'o17O12xf'}
2019-02-22 09:35:24,422 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:35:24,423 FuncUnittestTestCase.py[line: 25] ERROR: 输出参数为空
2019-02-22 09:35:24,423 FuncUnittestTestCase.py[line: 29] ERROR: fail#1 != 0 : 输出参数为空
2019-02-22 09:35:24,427 test_case.py[line: 97] ERROR: 步骤[第 1 步, 步骤ID: 2]运行失败, 正在进行第 1 次重试
2019-02-22 09:35:24,428 test_case_step.py[line: 78] INFO: 步骤类型：执行函数
2019-02-22 09:35:24,428 test_case_step.py[line: 79] INFO: 步骤操作对象：死等待
2019-02-22 09:35:24,428 test_case_step.py[line: 80] INFO: 执行操作：call
2019-02-22 09:35:24,429 test_case_step.py[line: 117] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:35:24,429 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:35:24,429 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_mobile': '17817738178', 'global_accessID': 'o17O12xf'}
2019-02-22 09:35:24,429 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:35:24,430 FuncUnittestTestCase.py[line: 25] ERROR: 输出参数为空
2019-02-22 09:35:24,430 FuncUnittestTestCase.py[line: 29] ERROR: fail#1 != 0 : 输出参数为空
2019-02-22 09:35:24,432 test_case.py[line: 97] ERROR: 步骤[第 1 步, 步骤ID: 2]运行失败, 正在进行第 2 次重试
2019-02-22 09:35:24,433 test_case_step.py[line: 78] INFO: 步骤类型：执行函数
2019-02-22 09:35:24,433 test_case_step.py[line: 79] INFO: 步骤操作对象：死等待
2019-02-22 09:35:24,433 test_case_step.py[line: 80] INFO: 执行操作：call
2019-02-22 09:35:24,433 test_case_step.py[line: 117] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:35:24,434 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:35:24,434 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_mobile': '17817738178', 'global_accessID': 'o17O12xf'}
2019-02-22 09:35:24,434 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:35:24,435 FuncUnittestTestCase.py[line: 25] ERROR: 输出参数为空
2019-02-22 09:35:24,435 FuncUnittestTestCase.py[line: 29] ERROR: fail#1 != 0 : 输出参数为空
2019-02-22 09:35:24,438 test_case.py[line: 101] ERROR: 步骤[第 1 步, 步骤ID: 2]运行失败
2019-02-22 09:35:24,438 debug.py[line: 122] INFO: 正在释放资源
2019-02-22 09:35:24,438 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-22 09:35:24,439 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-22 09:36:27,708 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-22 09:36:27,709 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-22 09:36:27,710 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-22 09:36:27,710 main.py[line: 67] INFO: 调试模式
2019-02-22 09:36:31,406 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-22 09:36:31,406 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-22 09:36:31,406 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-22 09:36:31,420 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-22 09:36:31,420 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-22 09:36:31,434 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-22 09:36:31,435 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-22 09:36:31,450 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-22 09:36:31,450 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 4  data：
2019-02-22 09:36:31,450 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 4
2019-02-22 09:36:31,462 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 4  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-22 09:36:31,474 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-22 09:36:31,474 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID4-nodename, ID:4]======================
2019-02-22 09:36:31,474 test_case.py[line: 32] INFO: 正在查询测试用例[ID：4, 名称：ID4-nodename]关联的测试步骤
2019-02-22 09:36:31,475 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(4,)
2019-02-22 09:36:31,494 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-22 09:36:31,494 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 2]======================
2019-02-22 09:36:31,494 test_case_step.py[line: 78] INFO: 步骤类型：执行函数
2019-02-22 09:36:31,494 test_case_step.py[line: 79] INFO: 步骤操作对象：死等待
2019-02-22 09:36:31,495 test_case_step.py[line: 80] INFO: 执行操作：call
2019-02-22 09:36:31,495 test_case_step.py[line: 117] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:36:31,495 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:36:31,495 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessID': 'o17O12xf'}
2019-02-22 09:36:31,496 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:36:31,496 FuncUnittestTestCase.py[line: 25] ERROR: 输出参数为空
2019-02-22 09:36:31,496 FuncUnittestTestCase.py[line: 29] ERROR: fail#1 != 0 : 输出参数为空
2019-02-22 09:36:31,499 test_case.py[line: 97] ERROR: 步骤[第 1 步, 步骤ID: 2]运行失败, 正在进行第 1 次重试
2019-02-22 09:36:31,500 test_case_step.py[line: 78] INFO: 步骤类型：执行函数
2019-02-22 09:36:31,500 test_case_step.py[line: 79] INFO: 步骤操作对象：死等待
2019-02-22 09:36:31,500 test_case_step.py[line: 80] INFO: 执行操作：call
2019-02-22 09:36:31,500 test_case_step.py[line: 117] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:36:31,500 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:36:31,501 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessID': 'o17O12xf'}
2019-02-22 09:36:31,501 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:36:31,501 FuncUnittestTestCase.py[line: 25] ERROR: 输出参数为空
2019-02-22 09:36:31,501 FuncUnittestTestCase.py[line: 29] ERROR: fail#1 != 0 : 输出参数为空
2019-02-22 09:36:31,503 test_case.py[line: 97] ERROR: 步骤[第 1 步, 步骤ID: 2]运行失败, 正在进行第 2 次重试
2019-02-22 09:36:31,503 test_case_step.py[line: 78] INFO: 步骤类型：执行函数
2019-02-22 09:36:31,504 test_case_step.py[line: 79] INFO: 步骤操作对象：死等待
2019-02-22 09:36:31,504 test_case_step.py[line: 80] INFO: 执行操作：call
2019-02-22 09:36:31,504 test_case_step.py[line: 117] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:36:31,505 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:36:31,505 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessID': 'o17O12xf'}
2019-02-22 09:36:31,505 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:36:31,506 FuncUnittestTestCase.py[line: 25] ERROR: 输出参数为空
2019-02-22 09:36:31,506 FuncUnittestTestCase.py[line: 29] ERROR: fail#1 != 0 : 输出参数为空
2019-02-22 09:36:31,508 test_case.py[line: 101] ERROR: 步骤[第 1 步, 步骤ID: 2]运行失败
2019-02-22 09:36:31,508 debug.py[line: 122] INFO: 正在释放资源
2019-02-22 09:36:31,508 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-22 09:36:31,509 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-22 09:37:19,026 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-22 09:37:19,027 main.py[line: 19] INFO: 当前运行模式为：debug
2019-02-22 09:37:19,027 main.py[line: 22] INFO: 当前运行计划编号为：1
2019-02-22 09:37:19,027 main.py[line: 67] INFO: 调试模式
2019-02-22 09:37:26,781 debug.py[line: 23] INFO: 正在查询项目[ID：1]相关信息
2019-02-22 09:37:26,782 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：('1',)
2019-02-22 09:37:26,782 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-22 09:37:26,796 debug.py[line: 29] INFO: 正在查询与项目关联的数据库信息
2019-02-22 09:37:26,796 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：('1', '测试环境')
2019-02-22 09:37:26,809 debug.py[line: 43] INFO: 正在查询与项目关联的全局变量
2019-02-22 09:37:26,811 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND environment= %s  data：('1', '测试环境')
2019-02-22 09:37:26,826 debug.py[line: 70] INFO: 正在查询输入ID标识的用例(套件)相关信息
2019-02-22 09:37:26,826 mydb.py[line: 122] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 4  data：
2019-02-22 09:37:26,826 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND id = 4
2019-02-22 09:37:26,838 mydb.py[line: 152] INFO: query：SELECT id, text FROM `website_api_case_tree` WHERE project_id = 1 AND parent_id = 4  AND id NOT IN (SELECT parent_id FROM `website_api_case_tree` WHERE project_id=1)ORDER BY `order` ASC  data：
2019-02-22 09:37:26,850 debug.py[line: 95] INFO: 输入ID标识的是测试用例，开始执行用例
2019-02-22 09:37:26,851 debug.py[line: 97] INFO: ======================开始运行测试用例[名称：ID4-nodename, ID:4]======================
2019-02-22 09:37:26,851 test_case.py[line: 32] INFO: 正在查询测试用例[ID：4, 名称：ID4-nodename]关联的测试步骤
2019-02-22 09:37:26,851 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(4,)
2019-02-22 09:37:26,870 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-22 09:37:26,870 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 2]======================
2019-02-22 09:37:26,871 test_case_step.py[line: 78] INFO: 步骤类型：执行函数
2019-02-22 09:37:26,871 test_case_step.py[line: 79] INFO: 步骤操作对象：死等待
2019-02-22 09:37:26,871 test_case_step.py[line: 80] INFO: 执行操作：call
2019-02-22 09:37:26,871 test_case_step.py[line: 109] INFO: 正在替换“输入参数”中的动态参数
2019-02-22 09:37:26,872 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:37:26,872 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }'}
2019-02-22 09:37:26,872 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：5
2019-02-22 09:37:26,872 test_case_step.py[line: 117] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:37:26,873 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:37:26,873 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }'}
2019-02-22 09:37:26,873 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:37:31,873 debug.py[line: 122] INFO: 正在释放资源
2019-02-22 09:37:31,874 debug.py[line: 123] INFO: 正在断开与项目关联的数据库连接
2019-02-22 09:37:31,874 debug.py[line: 129] INFO: 正在清理与项目关联的全局变量
2019-02-22 09:38:47,506 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-22 09:38:47,507 main.py[line: 19] INFO: 当前运行模式为：singleProject
2019-02-22 09:38:47,507 main.py[line: 22] INFO: 当前运行计划编号为：1550733025
2019-02-22 09:39:58,502 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-22 09:39:58,503 main.py[line: 19] INFO: 当前运行模式为：singleProject
2019-02-22 09:39:58,503 main.py[line: 22] INFO: 当前运行计划编号为：1550733025
2019-02-22 09:39:58,503 main.py[line: 32] INFO: 运行单项目,待执行的运行计划编码：1550733025
2019-02-22 09:39:58,504 main.py[line: 33] INFO: 正在查询运行计划相关信息
2019-02-22 09:39:58,504 mydb.py[line: 122] INFO: query：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =%s  data：('1550733025',)
2019-02-22 09:39:58,504 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =1550733025
2019-02-22 09:39:58,518 main.py[line: 40] INFO: 待运行项目：名称：UNP统一通知平台API测试，ID：1，关联的测试计划有：统一通知平台API测试计划1
2019-02-22 09:39:58,518 main.py[line: 43] INFO: ======================开始执行运行计划[名称：统一通知平台API测试运行计划1]======================
2019-02-22 09:39:58,519 running_plan.py[line: 29] INFO: 正在查询项目[ID：1,名称：UNP统一通知平台API测试]相关信息
2019-02-22 09:39:58,519 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：(1,)
2019-02-22 09:39:58,519 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-22 09:39:58,530 running_plan.py[line: 35] INFO: 正在查询与项目关联的数据库信息
2019-02-22 09:39:58,531 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-22 09:39:58,543 running_plan.py[line: 49] INFO: 正在查询与项目关联的全局变量
2019-02-22 09:39:58,543 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-22 09:39:58,556 running_plan.py[line: 75] INFO: ======================开始运行测试项目[名称：UNP统一通知平台API测试, ID：1]======================
2019-02-22 09:39:58,556 test_project.py[line: 103] INFO: ======================正在同步更新与待运行测试计划关联的所有用例树节点信息======================
2019-02-22 09:39:58,556 test_project.py[line: 40] INFO: 待运行计划ID列表：[1]
2019-02-22 09:39:58,557 test_project.py[line: 42] INFO: 正在查询与测试计划关联的用例树节点
2019-02-22 09:39:58,557 mydb.py[line: 152] INFO: query：SELECT node_id FROM `website_api_case_tree_test_plan` WHERE plan_id IN (1) GROUP BY node_id  data：
2019-02-22 09:39:58,568 test_project.py[line: 56] INFO: 正在查找用例树节点信息
2019-02-22 09:39:58,569 mydb.py[line: 122] INFO: query：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = %s  data：(1,)
2019-02-22 09:39:58,569 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = 1
2019-02-22 09:39:58,580 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(0,)
2019-02-22 09:39:58,581 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 0
2019-02-22 09:39:58,591 test_project.py[line: 68] INFO: 正在更新测试计划用例树节点关联表记录
2019-02-22 09:39:58,591 mydb.py[line: 82] INFO: update_query：UPDATE website_api_case_tree_test_plan SET node_path='', sub_node_num=1 WHERE plan_id IN (1) AND node_id = 1
2019-02-22 09:39:58,600 test_project.py[line: 56] INFO: 正在查找用例树节点信息
2019-02-22 09:39:58,601 mydb.py[line: 122] INFO: query：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = %s  data：(2,)
2019-02-22 09:39:58,601 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = 2
2019-02-22 09:39:58,612 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(1,)
2019-02-22 09:39:58,612 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 1
2019-02-22 09:39:58,622 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(0,)
2019-02-22 09:39:58,623 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 0
2019-02-22 09:39:58,632 test_project.py[line: 68] INFO: 正在更新测试计划用例树节点关联表记录
2019-02-22 09:39:58,633 mydb.py[line: 82] INFO: update_query：UPDATE website_api_case_tree_test_plan SET node_path='UNP统一通知平台API测试', sub_node_num=2 WHERE plan_id IN (1) AND node_id = 2
2019-02-22 09:39:58,643 test_project.py[line: 56] INFO: 正在查找用例树节点信息
2019-02-22 09:39:58,643 mydb.py[line: 122] INFO: query：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = %s  data：(3,)
2019-02-22 09:39:58,644 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = 3
2019-02-22 09:39:58,655 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(2,)
2019-02-22 09:39:58,655 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 2
2019-02-22 09:39:58,666 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(1,)
2019-02-22 09:39:58,666 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 1
2019-02-22 09:39:58,678 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(0,)
2019-02-22 09:39:58,678 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 0
2019-02-22 09:39:58,688 test_project.py[line: 68] INFO: 正在更新测试计划用例树节点关联表记录
2019-02-22 09:39:58,689 mydb.py[line: 82] INFO: update_query：UPDATE website_api_case_tree_test_plan SET node_path='UNP统一通知平台API测试->ID2-单发短信', sub_node_num=0 WHERE plan_id IN (1) AND node_id = 3
2019-02-22 09:39:58,698 test_project.py[line: 56] INFO: 正在查找用例树节点信息
2019-02-22 09:39:58,699 mydb.py[line: 122] INFO: query：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = %s  data：(4,)
2019-02-22 09:39:58,699 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = 4
2019-02-22 09:39:58,711 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(2,)
2019-02-22 09:39:58,711 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 2
2019-02-22 09:39:58,722 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(1,)
2019-02-22 09:39:58,723 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 1
2019-02-22 09:39:58,734 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(0,)
2019-02-22 09:39:58,734 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 0
2019-02-22 09:39:58,746 test_project.py[line: 68] INFO: 正在更新测试计划用例树节点关联表记录
2019-02-22 09:39:58,746 mydb.py[line: 82] INFO: update_query：UPDATE website_api_case_tree_test_plan SET node_path='UNP统一通知平台API测试->ID2-单发短信', sub_node_num=0 WHERE plan_id IN (1) AND node_id = 4
2019-02-22 09:39:58,755 test_project.py[line: 109] INFO: 同步更新与待运行测试计划关联的所有用例树节点信息成功
2019-02-22 09:39:58,756 test_project.py[line: 112] INFO: 正在查询测试计划[ID：1]相关信息
2019-02-22 09:39:58,756 mydb.py[line: 122] INFO: query：SELECT plan_name,valid_flag FROM `website_api_test_plan` WHERE id = %s  data：(1,)
2019-02-22 09:39:58,757 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT plan_name,valid_flag FROM `website_api_test_plan` WHERE id = 1
2019-02-22 09:39:58,769 test_project.py[line: 117] INFO: ======================开始运行测试计划[名称：统一通知平台API测试计划1, ID：1]======================
2019-02-22 09:39:58,770 test_plan.py[line: 30] INFO: 正在查询测试计划关联的测试用例
2019-02-22 09:39:58,770 mydb.py[line: 152] INFO: query：SELECT node_id, node_path, node_name FROM `website_api_case_tree_test_plan` WHERE plan_id = %s AND sub_node_num = 0 ORDER BY `order` ASC  data：(1,)
2019-02-22 09:39:58,782 test_plan.py[line: 40] INFO: 正在往测试报告-测试概况插入计划执行概要记录
2019-02-22 09:39:58,783 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_summary`(execution_num, project_id, plan_id, project_name, plan_name,start_time, end_time, time_took, case_total_num, case_pass_num, case_fail_num, case_block_num, remark) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s)  data：('1550799598', 1, 1, 'UNP统一通知平台API测试', '统一通知平台API测试计划1', '2019-02-22 09:39:58', '', '', 0, 0, 0, 0, '')
2019-02-22 09:39:58,793 test_plan.py[line: 49] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-22 09:39:58,794 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-22 09:39:58,794 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-22 09:39:58,813 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-22 09:39:58,813 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-22 09:39:58,813 test_case_step.py[line: 78] INFO: 步骤类型：请求接口
2019-02-22 09:39:58,814 test_case_step.py[line: 79] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-22 09:39:58,814 test_case_step.py[line: 80] INFO: 执行操作：test_api_for_json
2019-02-22 09:39:58,814 test_case_step.py[line: 109] INFO: 正在替换“输入参数”中的动态参数
2019-02-22 09:39:58,814 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-22 09:39:58,815 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessID': 'o17O12xf'}
2019-02-22 09:39:58,815 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_mobile$
2019-02-22 09:39:58,815 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-22 09:39:58,815 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-22 09:39:58,815 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_accessID$
2019-02-22 09:39:58,816 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_accessToken$
2019-02-22 09:39:58,816 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-22 09:39:58,816 test_case_step.py[line: 113] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-22 09:39:58,816 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:39:58,817 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessID': 'o17O12xf'}
2019-02-22 09:39:58,817 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-22 09:39:58,817 test_case_step.py[line: 117] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:39:58,817 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:39:58,818 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessID': 'o17O12xf'}
2019-02-22 09:39:58,818 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:39:58,818 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-22 09:39:58,818 httpprotocol.py[line: 100] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-22 09:39:58,819 httpprotocol.py[line: 101] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-22 09:39:58,819 httpprotocol.py[line: 102] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-22 09:39:58,875 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-22 09:39:58,879 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"dc8466ac36dc4a19a68a40687527f8da","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-22 09:39:57","version":null,"obj":null}
2019-02-22 09:39:58,880 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Fri, 22 Feb 2019 01:39:57 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-7')]
2019-02-22 09:39:58,880 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-22 09:39:58,880 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-22 09:39:58,880 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-22 09:39:58,881 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-22 09:39:58,881 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:39:58,881 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessID': 'o17O12xf'}
2019-02-22 09:39:58,881 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-22 09:39:58,882 unittesttestcase.py[line: 78] INFO: 校验规则为：“包含字符串："success":true”
2019-02-22 09:39:58,883 test_case_step.py[line: 156] INFO: ======================正在记录用例步骤运行结果到测试报告-用例步骤执行明细表======================
2019-02-22 09:39:58,883 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case_step`(execution_num, plan_id, case_id, step_id, `order`, step_type, op_object, object_id, exec_operation, protocol, host, port, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern, output_params, run_result, remark, run_time, run_id) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550799598', 1, 3, 1, 1, '请求接口', 'APIUnittestTestCase', 0, 'test_api_for_json', 'http', 'public-int-gw.intsit.sfdc.com.cn', 1080, '{\n    "Content-Type": "application/json",\n    "charset": "utf-8"\n}', 'POST', '/unp/notice/single', '{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}', 'body', '包含字符串', '[{\n    "消息": "fail#success不为True",\n    "模式": "\\"success\\":true"\n}]', '', '成功', '', '2019-02-22 09:39:58', 0)
2019-02-22 09:39:58,894 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-22 09:39:58,894 test_case_step.py[line: 78] INFO: 步骤类型：请求接口
2019-02-22 09:39:58,894 test_case_step.py[line: 79] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-22 09:39:58,895 test_case_step.py[line: 80] INFO: 执行操作：test_api_for_json
2019-02-22 09:39:58,895 test_case_step.py[line: 109] INFO: 正在替换“输入参数”中的动态参数
2019-02-22 09:39:58,895 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-22 09:39:58,895 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessID': 'o17O12xf'}
2019-02-22 09:39:58,895 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_mobile$
2019-02-22 09:39:58,896 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-22 09:39:58,896 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-22 09:39:58,896 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_accessID$
2019-02-22 09:39:58,896 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_accessToken$
2019-02-22 09:39:58,896 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-22 09:39:58,897 test_case_step.py[line: 113] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-22 09:39:58,897 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:39:58,897 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessID': 'o17O12xf'}
2019-02-22 09:39:58,897 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-22 09:39:58,898 test_case_step.py[line: 117] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:39:58,898 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:39:58,898 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessID': 'o17O12xf'}
2019-02-22 09:39:58,898 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:39:58,899 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-22 09:39:58,899 httpprotocol.py[line: 100] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-22 09:39:58,899 httpprotocol.py[line: 101] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-22 09:39:58,900 httpprotocol.py[line: 102] INFO: 请求头为：{'Content-Type': 'application/json', 'charset': 'utf-8'}
2019-02-22 09:39:58,915 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-22 09:39:58,916 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"9592b7e21a7c40a7b11714e08cef8492","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-22 09:39:57","version":null,"obj":null}
2019-02-22 09:39:58,916 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Fri, 22 Feb 2019 01:39:57 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-8')]
2019-02-22 09:39:58,916 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-22 09:39:58,916 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-22 09:39:58,917 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-22 09:39:58,917 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-22 09:39:58,917 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:39:58,917 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessID': 'o17O12xf'}
2019-02-22 09:39:58,918 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-22 09:39:58,918 unittesttestcase.py[line: 78] INFO: 校验规则为：“包含字符串："success":true”
2019-02-22 09:39:58,919 test_case_step.py[line: 156] INFO: ======================正在记录用例步骤运行结果到测试报告-用例步骤执行明细表======================
2019-02-22 09:39:58,919 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case_step`(execution_num, plan_id, case_id, step_id, `order`, step_type, op_object, object_id, exec_operation, protocol, host, port, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern, output_params, run_result, remark, run_time, run_id) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550799598', 1, 3, 1, 1, '请求接口', 'APIUnittestTestCase', 0, 'test_api_for_json', 'http', 'public-int-gw.intsit.sfdc.com.cn', 1080, '{\n    "Content-Type": "application/json",\n    "charset": "utf-8"\n}', 'POST', '/unp/notice/single', '{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}', 'body', '包含字符串', '[{\n    "消息": "fail#success不为True",\n    "模式": "\\"success\\":true"\n}]', '', '成功', '', '2019-02-22 09:39:58', 0)
2019-02-22 09:39:58,929 test_case.py[line: 121] INFO: 正在计算运行耗时
2019-02-22 09:39:58,930 test_case.py[line: 127] INFO: 正在记录用例运行结果到测试报告-用例执行明细表
2019-02-22 09:39:58,930 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case`(execution_num, plan_id, case_id, case_path, case_name, run_result, remark, run_time, time_took) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550799598', 1, 3, 'UNP统一通知平台API测试->ID2-单发短信', 'ID3-给国内手机发送短信', '成功', '', '2019-02-22 09:39:58', '0天 0小时 0分 0秒')
2019-02-22 09:39:58,942 test_plan.py[line: 49] INFO: ======================开始运行测试用例[名称：ID4-nodename, ID:4]======================
2019-02-22 09:39:58,943 test_case.py[line: 32] INFO: 正在查询测试用例[ID：4, 名称：ID4-nodename]关联的测试步骤
2019-02-22 09:39:58,943 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(4,)
2019-02-22 09:39:58,961 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-22 09:39:58,962 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 2]======================
2019-02-22 09:39:58,962 test_case_step.py[line: 78] INFO: 步骤类型：执行函数
2019-02-22 09:39:58,962 test_case_step.py[line: 79] INFO: 步骤操作对象：死等待
2019-02-22 09:39:58,962 test_case_step.py[line: 80] INFO: 执行操作：call
2019-02-22 09:39:58,963 test_case_step.py[line: 109] INFO: 正在替换“输入参数”中的动态参数
2019-02-22 09:39:58,963 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:39:58,963 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessID': 'o17O12xf'}
2019-02-22 09:39:58,963 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：5
2019-02-22 09:39:58,964 test_case_step.py[line: 117] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:39:58,964 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:39:58,964 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e', 'global_mobile': '17817738178', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_accessID': 'o17O12xf'}
2019-02-22 09:39:58,964 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:40:03,966 test_case_step.py[line: 156] INFO: ======================正在记录用例步骤运行结果到测试报告-用例步骤执行明细表======================
2019-02-22 09:40:03,967 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case_step`(execution_num, plan_id, case_id, step_id, `order`, step_type, op_object, object_id, exec_operation, protocol, host, port, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern, output_params, run_result, remark, run_time, run_id) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550799598', 1, 4, 2, 1, '执行函数', '死等待', 2, 'call', 'http', 'public-int-gw.intsit.sfdc.com.cn', 1080, '""', '--', '', '', 'body', '不包含成员', '', '', '成功', '', '2019-02-22 09:39:58', 0)
2019-02-22 09:40:03,983 test_case.py[line: 121] INFO: 正在计算运行耗时
2019-02-22 09:40:03,985 test_case.py[line: 127] INFO: 正在记录用例运行结果到测试报告-用例执行明细表
2019-02-22 09:40:03,985 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case`(execution_num, plan_id, case_id, case_path, case_name, run_result, remark, run_time, time_took) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550799598', 1, 4, 'UNP统一通知平台API测试->ID2-单发短信', 'ID4-nodename', '成功', '', '2019-02-22 09:39:58', '0天 0小时 0分 5秒')
2019-02-22 09:40:04,000 test_plan.py[line: 59] INFO: 测试用例执行完毕，正在更新测试报告-测试概况表
2019-02-22 09:40:04,001 test_report.py[line: 13] INFO: 正在查询运行状态为：成功的用例记录数
2019-02-22 09:40:04,002 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('成功', '1550799598', 1)
2019-02-22 09:40:04,002 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '成功' AND execution_num =1550799598 AND plan_id=1
2019-02-22 09:40:04,018 test_report.py[line: 13] INFO: 正在查询运行状态为：失败的用例记录数
2019-02-22 09:40:04,018 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('失败', '1550799598', 1)
2019-02-22 09:40:04,018 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '失败' AND execution_num =1550799598 AND plan_id=1
2019-02-22 09:40:04,029 test_report.py[line: 13] INFO: 正在查询运行状态为：阻塞的用例记录数
2019-02-22 09:40:04,030 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('阻塞', '1550799598', 1)
2019-02-22 09:40:04,030 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '阻塞' AND execution_num =1550799598 AND plan_id=1
2019-02-22 09:40:04,042 mydb.py[line: 82] INFO: update_query：UPDATE `website_api_test_report_for_summary` SET end_time='2019-02-22 09:40:04', time_took='0天 0小时 0分 5秒', case_total_num=2, case_pass_num=2, case_fail_num=0, case_block_num=0, remark='' WHERE execution_num='1550799598' AND plan_id=1
2019-02-22 09:40:04,053 running_plan.py[line: 98] INFO: 正在释放资源
2019-02-22 09:40:04,053 running_plan.py[line: 99] INFO: 正在断开与项目关联的数据库连接
2019-02-22 09:40:04,053 running_plan.py[line: 105] INFO: 正在清理与项目关联的全局变量
2019-02-22 09:40:04,053 main.py[line: 46] INFO: 执行成功，正在更新数据库运行计划的运行状态
2019-02-22 09:40:04,054 mydb.py[line: 82] INFO: update_query：UPDATE `website_running_plan` SET running_status ='执行成功', remark='' WHERE running_plan_num= 1550733025
2019-02-22 09:46:10,447 main.py[line: 16] INFO: 执行当前脚本的Python版本：3.4.0
2019-02-22 09:46:10,447 main.py[line: 19] INFO: 当前运行模式为：singleProject
2019-02-22 09:46:10,448 main.py[line: 22] INFO: 当前运行计划编号为：1550733025
2019-02-22 09:46:10,448 main.py[line: 32] INFO: 运行单项目,待执行的运行计划编码：1550733025
2019-02-22 09:46:10,448 main.py[line: 33] INFO: 正在查询运行计划相关信息
2019-02-22 09:46:10,448 mydb.py[line: 122] INFO: query：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =%s  data：('1550733025',)
2019-02-22 09:46:10,448 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT running_plan_name,project_id, project_name, plan_name, plan_id, valid_flag FROM `website_running_plan` WHERE running_plan_num =1550733025
2019-02-22 09:46:10,463 main.py[line: 40] INFO: 待运行项目：名称：UNP统一通知平台API测试，ID：1，关联的测试计划有：统一通知平台API测试计划1
2019-02-22 09:46:10,463 main.py[line: 43] INFO: ======================开始执行运行计划[名称：统一通知平台API测试运行计划1]======================
2019-02-22 09:46:10,464 running_plan.py[line: 29] INFO: 正在查询项目[ID：1,名称：UNP统一通知平台API测试]相关信息
2019-02-22 09:46:10,464 mydb.py[line: 122] INFO: query：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = %s  data：(1,)
2019-02-22 09:46:10,464 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT protocol, host, port, environment, valid_flag FROM `website_api_project_setting` WHERE id = 1
2019-02-22 09:46:10,478 running_plan.py[line: 35] INFO: 正在查询与项目关联的数据库信息
2019-02-22 09:46:10,479 mydb.py[line: 152] INFO: query：SELECT db_type, db_alias, db_name, db_host, db_port, db_user, db_passwd FROM `website_database_setting`WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-22 09:46:10,493 running_plan.py[line: 49] INFO: 正在查询与项目关联的全局变量
2019-02-22 09:46:10,494 mydb.py[line: 152] INFO: query：SELECT `name`, `value` FROM `website_global_variable_setting` WHERE project_id = %s AND project_type='API项目' AND environment= %s  data：(1, '测试环境')
2019-02-22 09:46:10,508 running_plan.py[line: 75] INFO: ======================开始运行测试项目[名称：UNP统一通知平台API测试, ID：1]======================
2019-02-22 09:46:10,508 test_project.py[line: 103] INFO: ======================正在同步更新与待运行测试计划关联的所有用例树节点信息======================
2019-02-22 09:46:10,508 test_project.py[line: 40] INFO: 待运行计划ID列表：[1]
2019-02-22 09:46:10,509 test_project.py[line: 42] INFO: 正在查询与测试计划关联的用例树节点
2019-02-22 09:46:10,509 mydb.py[line: 152] INFO: query：SELECT node_id FROM `website_api_case_tree_test_plan` WHERE plan_id IN (1) GROUP BY node_id  data：
2019-02-22 09:46:10,521 test_project.py[line: 56] INFO: 正在查找用例树节点信息
2019-02-22 09:46:10,522 mydb.py[line: 122] INFO: query：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = %s  data：(1,)
2019-02-22 09:46:10,522 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = 1
2019-02-22 09:46:10,536 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(0,)
2019-02-22 09:46:10,537 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 0
2019-02-22 09:46:10,546 test_project.py[line: 68] INFO: 正在更新测试计划用例树节点关联表记录
2019-02-22 09:46:10,546 mydb.py[line: 82] INFO: update_query：UPDATE website_api_case_tree_test_plan SET node_path='', sub_node_num=1 WHERE plan_id IN (1) AND node_id = 1
2019-02-22 09:46:10,556 test_project.py[line: 56] INFO: 正在查找用例树节点信息
2019-02-22 09:46:10,557 mydb.py[line: 122] INFO: query：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = %s  data：(2,)
2019-02-22 09:46:10,557 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = 2
2019-02-22 09:46:10,567 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(1,)
2019-02-22 09:46:10,567 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 1
2019-02-22 09:46:10,578 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(0,)
2019-02-22 09:46:10,578 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 0
2019-02-22 09:46:10,589 test_project.py[line: 68] INFO: 正在更新测试计划用例树节点关联表记录
2019-02-22 09:46:10,589 mydb.py[line: 82] INFO: update_query：UPDATE website_api_case_tree_test_plan SET node_path='UNP统一通知平台API测试', sub_node_num=2 WHERE plan_id IN (1) AND node_id = 2
2019-02-22 09:46:10,598 test_project.py[line: 56] INFO: 正在查找用例树节点信息
2019-02-22 09:46:10,599 mydb.py[line: 122] INFO: query：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = %s  data：(3,)
2019-02-22 09:46:10,599 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = 3
2019-02-22 09:46:10,610 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(2,)
2019-02-22 09:46:10,610 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 2
2019-02-22 09:46:10,620 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(1,)
2019-02-22 09:46:10,620 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 1
2019-02-22 09:46:10,631 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(0,)
2019-02-22 09:46:10,631 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 0
2019-02-22 09:46:10,643 test_project.py[line: 68] INFO: 正在更新测试计划用例树节点关联表记录
2019-02-22 09:46:10,643 mydb.py[line: 82] INFO: update_query：UPDATE website_api_case_tree_test_plan SET node_path='UNP统一通知平台API测试->ID2-单发短信', sub_node_num=0 WHERE plan_id IN (1) AND node_id = 3
2019-02-22 09:46:10,653 test_project.py[line: 56] INFO: 正在查找用例树节点信息
2019-02-22 09:46:10,654 mydb.py[line: 122] INFO: query：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = %s  data：(4,)
2019-02-22 09:46:10,654 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT t1.text, t1.parent_id, COUNT(t2.id) FROM `website_api_case_tree` AS t1 LEFT JOIN `website_api_case_tree` AS t2 ON t2.parent_id = t1.id WHERE t1.id = 4
2019-02-22 09:46:10,667 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(2,)
2019-02-22 09:46:10,668 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 2
2019-02-22 09:46:10,677 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(1,)
2019-02-22 09:46:10,678 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 1
2019-02-22 09:46:10,689 mydb.py[line: 122] INFO: query：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = %s  data：(0,)
2019-02-22 09:46:10,690 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT parent_id, text FROM `website_api_case_tree` WHERE id = 0
2019-02-22 09:46:10,701 test_project.py[line: 68] INFO: 正在更新测试计划用例树节点关联表记录
2019-02-22 09:46:10,702 mydb.py[line: 82] INFO: update_query：UPDATE website_api_case_tree_test_plan SET node_path='UNP统一通知平台API测试->ID2-单发短信', sub_node_num=0 WHERE plan_id IN (1) AND node_id = 4
2019-02-22 09:46:10,712 test_project.py[line: 109] INFO: 同步更新与待运行测试计划关联的所有用例树节点信息成功
2019-02-22 09:46:10,713 test_project.py[line: 112] INFO: 正在查询测试计划[ID：1]相关信息
2019-02-22 09:46:10,713 mydb.py[line: 122] INFO: query：SELECT plan_name,valid_flag FROM `website_api_test_plan` WHERE id = %s  data：(1,)
2019-02-22 09:46:10,713 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT plan_name,valid_flag FROM `website_api_test_plan` WHERE id = 1
2019-02-22 09:46:10,728 test_project.py[line: 117] INFO: ======================开始运行测试计划[名称：统一通知平台API测试计划1, ID：1]======================
2019-02-22 09:46:10,729 test_plan.py[line: 30] INFO: 正在查询测试计划关联的测试用例
2019-02-22 09:46:10,729 mydb.py[line: 152] INFO: query：SELECT node_id, node_path, node_name FROM `website_api_case_tree_test_plan` WHERE plan_id = %s AND sub_node_num = 0 ORDER BY `order` ASC  data：(1,)
2019-02-22 09:46:10,745 test_plan.py[line: 40] INFO: 正在往测试报告-测试概况插入计划执行概要记录
2019-02-22 09:46:10,745 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_summary`(execution_num, project_id, plan_id, project_name, plan_name,start_time, end_time, time_took, case_total_num, case_pass_num, case_fail_num, case_block_num, remark) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s)  data：('1550799970', 1, 1, 'UNP统一通知平台API测试', '统一通知平台API测试计划1', '2019-02-22 09:46:10', '', '', 0, 0, 0, 0, '')
2019-02-22 09:46:10,758 test_plan.py[line: 49] INFO: ======================开始运行测试用例[名称：ID3-给国内手机发送短信, ID:3]======================
2019-02-22 09:46:10,758 test_case.py[line: 32] INFO: 正在查询测试用例[ID：3, 名称：ID3-给国内手机发送短信]关联的测试步骤
2019-02-22 09:46:10,758 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(3,)
2019-02-22 09:46:10,777 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-22 09:46:10,777 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-22 09:46:10,778 test_case_step.py[line: 78] INFO: 步骤类型：请求接口
2019-02-22 09:46:10,778 test_case_step.py[line: 79] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-22 09:46:10,778 test_case_step.py[line: 80] INFO: 执行操作：test_api_for_json
2019-02-22 09:46:10,778 test_case_step.py[line: 110] INFO: 正在替换“输入参数”中的动态参数
2019-02-22 09:46:10,779 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-22 09:46:10,779 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-22 09:46:10,779 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_mobile$
2019-02-22 09:46:10,780 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-22 09:46:10,780 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-22 09:46:10,780 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_accessID$
2019-02-22 09:46:10,780 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_accessToken$
2019-02-22 09:46:10,780 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-22 09:46:10,781 test_case_step.py[line: 114] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-22 09:46:10,781 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:46:10,781 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-22 09:46:10,782 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-22 09:46:10,782 test_case_step.py[line: 118] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:46:10,782 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:46:10,782 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-22 09:46:10,783 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:46:10,783 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-22 09:46:10,783 httpprotocol.py[line: 100] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-22 09:46:10,784 httpprotocol.py[line: 101] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-22 09:46:10,784 httpprotocol.py[line: 102] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-22 09:46:10,827 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-22 09:46:10,831 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"1a8c4472c6e642868a65745f61a6d6e4","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-22 09:46:09","version":null,"obj":null}
2019-02-22 09:46:10,831 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Fri, 22 Feb 2019 01:46:09 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-5')]
2019-02-22 09:46:10,831 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-22 09:46:10,832 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-22 09:46:10,832 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-22 09:46:10,832 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-22 09:46:10,833 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:46:10,833 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-22 09:46:10,833 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-22 09:46:10,834 unittesttestcase.py[line: 78] INFO: 校验规则为：“包含字符串："success":true”
2019-02-22 09:46:10,835 test_case_step.py[line: 157] INFO: ======================正在记录用例步骤运行结果到测试报告-用例步骤执行明细表======================
2019-02-22 09:46:10,835 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case_step`(execution_num, plan_id, case_id, step_id, `order`, step_type, op_object, object_id, exec_operation, protocol, host, port, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern, output_params, run_result, remark, run_time, run_id) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550799970', 1, 3, 1, 1, '请求接口', 'APIUnittestTestCase', 0, 'test_api_for_json', 'http', 'public-int-gw.intsit.sfdc.com.cn', 1080, '{\n    "charset": "utf-8",\n    "Content-Type": "application/json"\n}', 'POST', '/unp/notice/single', '{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}', 'body', '包含字符串', '[{\n    "模式": "\\"success\\":true",\n    "消息": "fail#success不为True"\n}]', '', '成功', '', '2019-02-22 09:46:10', 0)
2019-02-22 09:46:10,846 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 1]======================
2019-02-22 09:46:10,847 test_case_step.py[line: 78] INFO: 步骤类型：请求接口
2019-02-22 09:46:10,847 test_case_step.py[line: 79] INFO: 步骤操作对象：APIUnittestTestCase
2019-02-22 09:46:10,847 test_case_step.py[line: 80] INFO: 执行操作：test_api_for_json
2019-02-22 09:46:10,847 test_case_step.py[line: 110] INFO: 正在替换“输入参数”中的动态参数
2019-02-22 09:46:10,847 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:['$global_mobile$', '$global_smsTemplateCode$', '$global_smsVerifyCode$', '$global_accessID$', '$global_accessToken$']
2019-02-22 09:46:10,848 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-22 09:46:10,848 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_mobile$
2019-02-22 09:46:10,848 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_smsTemplateCode$
2019-02-22 09:46:10,848 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_smsVerifyCode$
2019-02-22 09:46:10,848 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_accessID$
2019-02-22 09:46:10,849 test_case_step.py[line: 61] INFO: 正在替换动态变量：$global_accessToken$
2019-02-22 09:46:10,849 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：{
  "userId": "17817738178",
  "templateCode": "TESTCODE-VALIDATE-CODE",
  "templateParam": {"smsVerifyCode":654321},
  "accessId": "o17O12xf",
  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"
}
2019-02-22 09:46:10,849 test_case_step.py[line: 114] INFO: 正在替换“URL/SQL”中的动态参数
2019-02-22 09:46:10,849 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:46:10,850 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-22 09:46:10,850 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：/unp/notice/single
2019-02-22 09:46:10,850 test_case_step.py[line: 118] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:46:10,850 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:46:10,850 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-22 09:46:10,851 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:46:10,851 APIUnittestTestCase.py[line: 121] INFO: 正在发起POST请求...
2019-02-22 09:46:10,851 httpprotocol.py[line: 100] INFO: 发起的请求为：POST http://public-int-gw.intsit.sfdc.com.cn:1080/unp/notice/single
2019-02-22 09:46:10,851 httpprotocol.py[line: 101] INFO: 请求参数为：b'{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}'
2019-02-22 09:46:10,852 httpprotocol.py[line: 102] INFO: 请求头为：{'charset': 'utf-8', 'Content-Type': 'application/json'}
2019-02-22 09:46:10,880 APIUnittestTestCase.py[line: 133] INFO: 正在对服务器返回body进行解码
2019-02-22 09:46:10,881 APIUnittestTestCase.py[line: 152] INFO: 服务器返回结果"响应体(body)": {"requestId":"7e67bade6ab3471da4044063cafd2348","success":true,"business":null,"errorCode":null,"errorMessage":null,"params":null,"date":"2019-02-22 09:46:09","version":null,"obj":null}
2019-02-22 09:46:10,881 APIUnittestTestCase.py[line: 153] INFO: 服务器返回结果"请求头(headers)": [('Server', 'openresty/1.9.7.4'), ('Date', 'Fri, 22 Feb 2019 01:46:09 GMT'), ('Content-Type', 'application/json;charset=UTF-8'), ('Transfer-Encoding', 'chunked'), ('Connection', 'close'), ('Via', '1.1 ID-0002262062176300 uproxy-6')]
2019-02-22 09:46:10,882 APIUnittestTestCase.py[line: 154] INFO: 服务器返回结果"状态码(code)": 200
2019-02-22 09:46:10,882 APIUnittestTestCase.py[line: 159] INFO: 正在提取目标返回结果值
2019-02-22 09:46:10,882 APIUnittestTestCase.py[line: 162] INFO: 正在执行断言
2019-02-22 09:46:10,882 unittesttestcase.py[line: 34] INFO: 正在替换“校验模式”中的动态参数
2019-02-22 09:46:10,882 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:46:10,883 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-22 09:46:10,883 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：[
  {
    "模式": "\"success\":true",
    "消息": "fail#success不为True"
  }
]
2019-02-22 09:46:10,883 unittesttestcase.py[line: 78] INFO: 校验规则为：“包含字符串："success":true”
2019-02-22 09:46:10,884 test_case_step.py[line: 157] INFO: ======================正在记录用例步骤运行结果到测试报告-用例步骤执行明细表======================
2019-02-22 09:46:10,884 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case_step`(execution_num, plan_id, case_id, step_id, `order`, step_type, op_object, object_id, exec_operation, protocol, host, port, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern, output_params, run_result, remark, run_time, run_id) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550799970', 1, 3, 1, 1, '请求接口', 'APIUnittestTestCase', 0, 'test_api_for_json', 'http', 'public-int-gw.intsit.sfdc.com.cn', 1080, '{\n    "charset": "utf-8",\n    "Content-Type": "application/json"\n}', 'POST', '/unp/notice/single', '{\n  "userId": "17817738178",\n  "templateCode": "TESTCODE-VALIDATE-CODE",\n  "templateParam": {"smsVerifyCode":654321},\n  "accessId": "o17O12xf",\n  "accessToken": "a950ca7a32104ebfba5ba214101fe66e"\n}', 'body', '包含字符串', '[{\n    "模式": "\\"success\\":true",\n    "消息": "fail#success不为True"\n}]', '', '成功', '', '2019-02-22 09:46:10', 0)
2019-02-22 09:46:10,894 test_case.py[line: 121] INFO: 正在计算运行耗时
2019-02-22 09:46:10,895 test_case.py[line: 127] INFO: 正在记录用例运行结果到测试报告-用例执行明细表
2019-02-22 09:46:10,895 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case`(execution_num, plan_id, case_id, case_path, case_name, run_result, remark, run_time, time_took) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550799970', 1, 3, 'UNP统一通知平台API测试->ID2-单发短信', 'ID3-给国内手机发送短信', '成功', '', '2019-02-22 09:46:10', '0天 0小时 0分 0秒')
2019-02-22 09:46:10,905 test_plan.py[line: 49] INFO: ======================开始运行测试用例[名称：ID4-nodename, ID:4]======================
2019-02-22 09:46:10,906 test_case.py[line: 32] INFO: 正在查询测试用例[ID：4, 名称：ID4-nodename]关联的测试步骤
2019-02-22 09:46:10,906 mydb.py[line: 152] INFO: query：SELECT id, `order`, step_type, op_object, object_id, exec_operation, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern,  output_params, protocol, host, port, run_times, try_for_failure FROM `website_api_test_case_step`  WHERE case_id=%s AND  status='启用' ORDER BY `order` ASC  data：(4,)
2019-02-22 09:46:10,926 test_case.py[line: 41] INFO: 开始执行测试步骤
2019-02-22 09:46:10,927 test_case.py[line: 91] INFO: ======================开始运行测试步骤[第 1 步, 步骤ID: 2]======================
2019-02-22 09:46:10,927 test_case_step.py[line: 78] INFO: 步骤类型：执行函数
2019-02-22 09:46:10,927 test_case_step.py[line: 79] INFO: 步骤操作对象：死等待
2019-02-22 09:46:10,927 test_case_step.py[line: 80] INFO: 执行操作：call
2019-02-22 09:46:10,927 test_case_step.py[line: 110] INFO: 正在替换“输入参数”中的动态参数
2019-02-22 09:46:10,928 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:46:10,928 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-22 09:46:10,928 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：5
2019-02-22 09:46:10,928 test_case_step.py[line: 118] INFO: 正在替换“主机地址”中的动态参数
2019-02-22 09:46:10,928 test_case_step.py[line: 58] INFO: 检查到目标内容中待替换的动态变量有:[]
2019-02-22 09:46:10,929 test_case_step.py[line: 59] INFO: 已保存的全局变量有：{'global_headers': '{ "public-int-gw.intsit.sfdc.com.cn":{"Content-Type":"application/json","charset":"utf-8"} }', 'global_accessID': 'o17O12xf', 'global_mobile': '17817738178', 'global_smsVerifyCode': '{"smsVerifyCode":654321}', 'global_smsTemplateCode': 'TESTCODE-VALIDATE-CODE', 'global_accessToken': 'a950ca7a32104ebfba5ba214101fe66e'}
2019-02-22 09:46:10,929 test_case_step.py[line: 68] INFO: 替换动态变量后的内容：public-int-gw.intsit.sfdc.com.cn
2019-02-22 09:46:15,931 test_case_step.py[line: 157] INFO: ======================正在记录用例步骤运行结果到测试报告-用例步骤执行明细表======================
2019-02-22 09:46:15,932 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case_step`(execution_num, plan_id, case_id, step_id, `order`, step_type, op_object, object_id, exec_operation, protocol, host, port, request_header, request_method, url_or_sql, input_params, response_to_check, check_rule, check_pattern, output_params, run_result, remark, run_time, run_id) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s,%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550799970', 1, 4, 2, 1, '执行函数', '死等待', 2, 'call', '', '', '', '', '--', '', '5', 'body', '不包含成员', '', '', '成功', '', '2019-02-22 09:46:10', 0)
2019-02-22 09:46:15,946 test_case.py[line: 121] INFO: 正在计算运行耗时
2019-02-22 09:46:15,947 test_case.py[line: 127] INFO: 正在记录用例运行结果到测试报告-用例执行明细表
2019-02-22 09:46:15,947 mydb.py[line: 66] INFO: query：INSERT INTO `website_api_test_report_for_case`(execution_num, plan_id, case_id, case_path, case_name, run_result, remark, run_time, time_took) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('1550799970', 1, 4, 'UNP统一通知平台API测试->ID2-单发短信', 'ID4-nodename', '成功', '', '2019-02-22 09:46:10', '0天 0小时 0分 5秒')
2019-02-22 09:46:15,961 test_plan.py[line: 59] INFO: 测试用例执行完毕，正在更新测试报告-测试概况表
2019-02-22 09:46:15,961 test_report.py[line: 13] INFO: 正在查询运行状态为：成功的用例记录数
2019-02-22 09:46:15,962 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('成功', '1550799970', 1)
2019-02-22 09:46:15,962 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '成功' AND execution_num =1550799970 AND plan_id=1
2019-02-22 09:46:15,977 test_report.py[line: 13] INFO: 正在查询运行状态为：失败的用例记录数
2019-02-22 09:46:15,978 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('失败', '1550799970', 1)
2019-02-22 09:46:15,978 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '失败' AND execution_num =1550799970 AND plan_id=1
2019-02-22 09:46:15,992 test_report.py[line: 13] INFO: 正在查询运行状态为：阻塞的用例记录数
2019-02-22 09:46:15,993 mydb.py[line: 122] INFO: query：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '%s' AND execution_num =%s AND plan_id=%s  data：('阻塞', '1550799970', 1)
2019-02-22 09:46:15,993 mydb.py[line: 125] INFO: 执行的查询语句为：SELECT COUNT(id) FROM `website_api_test_report_for_case` WHERE run_result = '阻塞' AND execution_num =1550799970 AND plan_id=1
2019-02-22 09:46:16,008 mydb.py[line: 82] INFO: update_query：UPDATE `website_api_test_report_for_summary` SET end_time='2019-02-22 09:46:15', time_took='0天 0小时 0分 5秒', case_total_num=2, case_pass_num=2, case_fail_num=0, case_block_num=0, remark='' WHERE execution_num='1550799970' AND plan_id=1
2019-02-22 09:46:16,020 running_plan.py[line: 98] INFO: 正在释放资源
2019-02-22 09:46:16,021 running_plan.py[line: 99] INFO: 正在断开与项目关联的数据库连接
2019-02-22 09:46:16,021 running_plan.py[line: 105] INFO: 正在清理与项目关联的全局变量
2019-02-22 09:46:16,022 main.py[line: 46] INFO: 执行成功，正在更新数据库运行计划的运行状态
2019-02-22 09:46:16,022 mydb.py[line: 82] INFO: update_query：UPDATE `website_running_plan` SET running_status ='执行成功', remark='' WHERE running_plan_num= 1550733025
